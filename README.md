**pure-utils**

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

–ü–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø—Ä–æ–µ–∫—Ç—É:

üìö **–°—Ö–µ–º–∞ util** - –£—Ç–∏–ª—ñ—Ç–∞—Ä–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó —Ç–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä–∏
- [–û–≥–ª—è–¥ –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π util](docs/util/README.md) - –¥–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å –≤—Å—ñ—Ö –∫–∞—Ç–µ–≥–æ—Ä—ñ–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É
- [–°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –æ–±'—î–∫—Ç—ñ–≤ util](docs/util/objects-list.md) - –ø–æ–≤–Ω–∏–π –ø–µ—Ä–µ–ª—ñ–∫ –∑ –∫–æ—Ä–æ—Ç–∫–∏–º–∏ –æ–ø–∏—Å–∞–º–∏

üîå **–°—Ö–µ–º–∞ mcp** - Model Context Protocol —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
- [–û–≥–ª—è–¥ –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π mcp](docs/mcp/README.md) - –æ–ø–∏—Å MCP –ø—Ä–æ—Ç–æ–∫–æ–ª—É —Ç–∞ –π–æ–≥–æ –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π
- [–°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –æ–±'—î–∫—Ç—ñ–≤ mcp](docs/mcp/objects-list.md) - –ø–æ–≤–Ω–∏–π –ø–µ—Ä–µ–ª—ñ–∫ MCP –ø—Ä–æ—Ü–µ–¥—É—Ä
- –î–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø–æ –∫–æ–∂–Ω—ñ–π MCP –ø—Ä–æ—Ü–µ–¥—É—Ä—ñ:
  - [GetDatabases](docs/mcp/GetDatabases.md) - —Å–ø–∏—Å–æ–∫ –±–∞–∑ –¥–∞–Ω–∏—Ö
  - [GetTables](docs/mcp/GetTables.md) - —Å–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü—å
  - [GetTableInfo](docs/mcp/GetTableInfo.md) - –¥–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Ç–∞–±–ª–∏—Ü—é
  - [GetViews](docs/mcp/GetViews.md) - —Å–ø–∏—Å–æ–∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—å
  - [GetFunctions](docs/mcp/GetFunctions.md) - —Å–ø–∏—Å–æ–∫ —Ñ—É–Ω–∫—Ü—ñ–π
  - [GetProcedures](docs/mcp/GetProcedures.md) - —Å–ø–∏—Å–æ–∫ –ø—Ä–æ—Ü–µ–¥—É—Ä
  - [GetSqlModule](docs/mcp/GetSqlModule.md) - –≤–∏—Ö—ñ–¥–Ω–∏–π –∫–æ–¥ –º–æ–¥—É–ª—è
  - [GetDdlHistory](docs/mcp/GetDdlHistory.md) - —ñ—Å—Ç–æ—Ä—ñ—è DDL –∑–º—ñ–Ω
  - [FindLastModulePlan](docs/mcp/FindLastModulePlan.md) - –ø–æ—à—É–∫ –ø–ª–∞–Ω—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
  - [ScriptObjectAndReferences](docs/mcp/ScriptObjectAndReferences.md) - –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —Å–∫—Ä–∏–ø—Ç—É –∑ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è–º–∏
  - [ToolsList](docs/mcp/ToolsList.md) - —Å–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö MCP tools

üöÄ **–†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è**
- [–Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –ø–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—é](docs/deploy.md) - –ø–æ–≤–Ω–∏–π –≥–∞–π–¥ –ø–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—é —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—é

---

## –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

```sql
-- –î–æ–≤—ñ–¥–∫–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞
util.help
GO
--OR
util.help keyword
```
# procedures
## `errorHandler`

  * @attachment NVARCHAR(MAX) = NULL - –¥–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –∞–±–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ä–∞–∑–æ–º –∑ –ø–æ–º–∏–ª–∫–æ—é

–£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫, —è–∫–∞ –æ—Ç—Ä–∏–º—É—î —Å–∏—Å—Ç–µ–º–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –ø–æ–º–∏–ª–∫—É, –∑–∞–ø–∏—Å—É—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –Ω–µ—ó, 
–º–æ–∂–µ –Ω–∞–¥—ñ—Å–ª–∞—Ç–∏ –Ω–∞ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É –ø–æ—à—Ç—É. –ó–∞–ø–∏—Å—É—î –ø–æ–º–∏–ª–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü—é util.ErrorLog —ñ –ø–æ–≤–µ—Ä—Ç–∞—î –¥–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é.
–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–ª—è –ø–æ–º–∏–ª–æ–∫, –æ—Ç—Ä–∏–º–∞–Ω–∏—Ö —ñ–∑ –±–ª–æ–∫—É CATCH –∞–±–æ –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å—Ç–∞–Ω—É.
### Usage

```sql
BEGIN TRY
    -- –í–∞—à –∫–æ–¥
END TRY
BEGIN CATCH
    EXEC util.errorHandler @attachment = '–î–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç';
END CATCH
```

## `help`

  * @keyword sysname = NULL - –∫–ª—é—á–æ–≤–µ —Å–ª–æ–≤–æ –¥–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ (NULL = –≤—Å—ñ –æ–±'—î–∫—Ç–∏)

–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –¥–æ–≤—ñ–¥–∫–∏, —è–∫–∞ –≤–∏–≤–æ–¥–∏—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –¥–æ—Å—Ç—É–ø–Ω—ñ –æ–±'—î–∫—Ç–∏ –≤ —Å—Ö–µ–º—ñ util.
–ü–æ–∫–∞–∑—É—î —Å–ø–∏—Å–æ–∫ –ø—Ä–æ—Ü–µ–¥—É—Ä, —Ñ—É–Ω–∫—Ü—ñ–π —Ç–∞ —ó—Ö –æ–ø–∏—Å–∏ –∑ —Ä–æ–∑—à–∏—Ä–µ–Ω–∏—Ö –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π.
### Usage

```sql
-- –ü–æ–∫–∞–∑–∞—Ç–∏ –≤—Å—é –¥–æ–≤—ñ–¥–∫—É
EXEC util.help;
-- –ü–æ–∫–∞–∑–∞—Ç–∏ –¥–æ–≤—ñ–¥–∫—É –∑–∞ –∫–ª—é—á–æ–≤–∏–º —Å–ª–æ–≤–æ–º
EXEC util.help 'metadata';
```

## `indexesSetConventionNames`

  * @table NVARCHAR(128) = NULL - –Ω–∞–∑–≤–∞ —Ç–∞–±–ª–∏—Ü—ñ –¥–ª—è –ø–µ—Ä–µ–π–º–µ–Ω—É–≤–∞–Ω–Ω—è —ñ–Ω–¥–µ–∫—Å—ñ–≤ (NULL = –≤—Å—ñ —Ç–∞–±–ª–∏—Ü—ñ)
  * @index NVARCHAR(128) = NULL - –Ω–∞–∑–≤–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —ñ–Ω–¥–µ–∫—Å—É (NULL = –≤—Å—ñ —ñ–Ω–¥–µ–∫—Å–∏)
  * @output TINYINT = 1 - –≤–∏–≤–æ–¥–∏—Ç–∏ –≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ SQL –∫–æ–º–∞–Ω–¥–∏ (1) –∞–±–æ —Ç—ñ–ª—å–∫–∏ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ (0)

–ü–µ—Ä–µ–π–º–µ–Ω–æ–≤—É—î —ñ–Ω–¥–µ–∫—Å–∏ —Ç–∞–±–ª–∏—Ü—å –∑–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–º–∏ –∫–æ–Ω–≤–µ–Ω—Ü—ñ—è–º–∏ –Ω–∞–π–º–µ–Ω—É–≤–∞–Ω–Ω—è, –≥–µ–Ω–µ—Ä—É—é—á–∏ —Ç–∞ –≤–∏–∫–æ–Ω—É—é—á–∏ SQL –∫–æ–º–∞–Ω–¥–∏.
### Usage

```sql
-- –ü–µ—Ä–µ–π–º–µ–Ω—É–≤–∞—Ç–∏ –≤—Å—ñ —ñ–Ω–¥–µ–∫—Å–∏ —Ç–∞–±–ª–∏—Ü—ñ –∑ –≤–∏–≤–æ–¥–æ–º –∫–æ–º–∞–Ω–¥
EXEC util.indexesSetConventionNames @table = 'myTable', @output = 1;
-- –ü–µ—Ä–µ–π–º–µ–Ω—É–≤–∞—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —ñ–Ω–¥–µ–∫—Å –±–µ–∑ –≤–∏–≤–æ–¥—É
EXEC util.indexesSetConventionNames @table = 'myTable', @index = 'oldIndexName', @output = 0;
```

## `metadataSetColumnDescription`
–í—Å—Ç–∞–Ω–æ–≤–ª—é—î –æ–ø–∏—Å –¥–ª—è –∫–æ–ª–æ–Ω–∫–∏ —Ç–∞–±–ª–∏—Ü—ñ –∞–±–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ —Ä–æ–∑—à–∏—Ä–µ–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ MS_Description.
–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∑–Ω–∞—á–∞—î —Å—Ö–µ–º—É —Ç–∞ —Ç–∏–ø –æ–±'—î–∫—Ç–∞, –∞ –ø–æ—Ç—ñ–º –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î –æ–ø–∏—Å –¥–ª—è –≤–∫–∞–∑–∞–Ω–æ—ó –∫–æ–ª–æ–Ω–∫–∏.
### Usage

```sql
```sql
EXEC util.metadataSetColumnDescription 'myTable', 'myColumn', '–û–ø–∏—Å –∫–æ–ª–æ–Ω–∫–∏';
EXEC util.metadataSetColumnDescription 'dbo.users', 'user_id', '–£–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞';
```
```

## `metadataSetDataspaceDescription`

  * @dataspace NVARCHAR(128) - –Ω–∞–∑–≤–∞ –ø—Ä–æ—Å—Ç–æ—Ä—É –¥–∞–Ω–∏—Ö
  * @description NVARCHAR(MAX) - —Ç–µ–∫—Å—Ç –æ–ø–∏—Å—É –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ä—É –¥–∞–Ω–∏—Ö

–í—Å—Ç–∞–Ω–æ–≤–ª—é—î –æ–ø–∏—Å –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ä—É –¥–∞–Ω–∏—Ö (—Ñ–∞–π–ª–æ–≤–æ—ó –≥—Ä—É–ø–∏ –∞–±–æ —Å—Ö–µ–º–∏ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è) —á–µ—Ä–µ–∑ —Ä–æ–∑—à–∏—Ä–µ–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ MS_Description.
### Usage

```sql
-- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –æ–ø–∏—Å –¥–ª—è —Ñ–∞–π–ª–æ–≤–æ—ó –≥—Ä—É–ø–∏
EXEC util.metadataSetDataspaceDescription @dataspace = 'PRIMARY', @description = '–û—Å–Ω–æ–≤–Ω–∞ —Ñ–∞–π–ª–æ–≤–∞ –≥—Ä—É–ø–∞';
-- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –æ–ø–∏—Å –¥–ª—è —Å—Ö–µ–º–∏ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è
EXEC util.metadataSetDataspaceDescription @dataspace = 'MyPartitionScheme', @description = '–°—Ö–µ–º–∞ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –ø–æ –¥–∞—Ç–∞—Ö';
```

## `metadataSetExtendedProperty`

  * @name NVARCHAR(128) - –Ω–∞–∑–≤–∞ —Ä–æ–∑—à–∏—Ä–µ–Ω–æ—ó –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ
  * @value NVARCHAR(MAX) - –∑–Ω–∞—á–µ–Ω–Ω—è –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ
  * @level0type NVARCHAR(128) = NULL - —Ç–∏–ø –æ–±'—î–∫—Ç–∞ —Ä—ñ–≤–Ω—è 0 (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 'SCHEMA')
  * @level0name NVARCHAR(128) = NULL - –Ω–∞–∑–≤–∞ –æ–±'—î–∫—Ç–∞ —Ä—ñ–≤–Ω—è 0
  * @level1type NVARCHAR(128) = NULL - —Ç–∏–ø –æ–±'—î–∫—Ç–∞ —Ä—ñ–≤–Ω—è 1 (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 'TABLE')
  * @level1name NVARCHAR(128) = NULL - –Ω–∞–∑–≤–∞ –æ–±'—î–∫—Ç–∞ —Ä—ñ–≤–Ω—è 1
  * @level2type NVARCHAR(128) = NULL - —Ç–∏–ø –æ–±'—î–∫—Ç–∞ —Ä—ñ–≤–Ω—è 2 (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 'COLUMN')
  * @level2name NVARCHAR(128) = NULL - –Ω–∞–∑–≤–∞ –æ–±'—î–∫—Ç–∞ —Ä—ñ–≤–Ω—è 2

–£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ä–æ–∑—à–∏—Ä–µ–Ω–∏—Ö –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö —Ä—ñ–≤–Ω—è—Ö —ñ—î—Ä–∞—Ä—Ö—ñ—ó –æ–±'—î–∫—Ç—ñ–≤ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö.
–ü—ñ–¥—Ç—Ä–∏–º—É—î –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π –¥–ª—è –æ–±'—î–∫—Ç—ñ–≤ –Ω–∞ —Ä—ñ–≤–Ω—ñ —Å—Ö–µ–º–∏, —Ç–∞–±–ª–∏—Ü—ñ, –∫–æ–ª–æ–Ω–∫–∏ —Ç–æ—â–æ.
–ü–µ—Ä–µ–¥ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º —ñ—Å–Ω—É—é—á–∏—Ö –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π —Å—Ç–≤–æ—Ä—é—î —ó—Ö —Ä–µ–∑–µ—Ä–≤–Ω—É –∫–æ–ø—ñ—é –∑ timestamps.
### Usage

```sql
-- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å –¥–ª—è —Ç–∞–±–ª–∏—Ü—ñ
EXEC util.metadataSetExtendedProperty @name = 'MS_Description', @value = '–û–ø–∏—Å —Ç–∞–±–ª–∏—Ü—ñ',
    @level0type = 'SCHEMA', @level0name = 'dbo', @level1type = 'TABLE', @level1name = 'myTable';
-- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å –¥–ª—è –∫–æ–ª–æ–Ω–∫–∏
EXEC util.metadataSetExtendedProperty @name = 'MS_Description', @value = '–û–ø–∏—Å –∫–æ–ª–æ–Ω–∫–∏',
    @level0type = 'SCHEMA', @level0name = 'dbo', @level1type = 'TABLE', @level1name = 'myTable',
    @level2type = 'COLUMN', @level2name = 'myColumn';
```

## `metadataSetFilegroupDescription`

  * @filegroup NVARCHAR(128) - –Ω–∞–∑–≤–∞ —Ñ–∞–π–ª–æ–≤–æ—ó –≥—Ä—É–ø–∏
  * @description NVARCHAR(MAX) - —Ç–µ–∫—Å—Ç –æ–ø–∏—Å—É –¥–ª—è —Ñ–∞–π–ª–æ–≤–æ—ó –≥—Ä—É–ø–∏

–í—Å—Ç–∞–Ω–æ–≤–ª—é—î –æ–ø–∏—Å –¥–ª—è —Ñ–∞–π–ª–æ–≤–æ—ó –≥—Ä—É–ø–∏ —á–µ—Ä–µ–∑ —Ä–æ–∑—à–∏—Ä–µ–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ MS_Description.
### Usage

```sql
-- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –æ–ø–∏—Å –¥–ª—è —Ñ–∞–π–ª–æ–≤–æ—ó –≥—Ä—É–ø–∏
EXEC util.metadataSetFilegroupDescription @filegroup = 'PRIMARY', @description = '–û—Å–Ω–æ–≤–Ω–∞ —Ñ–∞–π–ª–æ–≤–∞ –≥—Ä—É–ø–∞ —Å–∏—Å—Ç–µ–º–∏';
-- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –æ–ø–∏—Å –¥–ª—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó —Ñ–∞–π–ª–æ–≤–æ—ó –≥—Ä—É–ø–∏
EXEC util.metadataSetFilegroupDescription @filegroup = 'DATA_FG', @description = '–§–∞–π–ª–æ–≤–∞ –≥—Ä—É–ø–∞ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏—Ö –¥–∞–Ω–∏—Ö';
```

## `metadataSetFunctionDescription`

  * @function NVARCHAR(128) - –Ω–∞–∑–≤–∞ —Ñ—É–Ω–∫—Ü—ñ—ó
  * @description NVARCHAR(MAX) - —Ç–µ–∫—Å—Ç –æ–ø–∏—Å—É –¥–ª—è —Ñ—É–Ω–∫—Ü—ñ—ó

–í—Å—Ç–∞–Ω–æ–≤–ª—é—î –æ–ø–∏—Å –¥–ª—è —Ñ—É–Ω–∫—Ü—ñ—ó —á–µ—Ä–µ–∑ —Ä–æ–∑—à–∏—Ä–µ–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ MS_Description.
### Usage

```sql
-- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –æ–ø–∏—Å –¥–ª—è —Å–∫–∞–ª—è—Ä–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó
EXEC util.metadataSetFunctionDescription @function = 'dbo.MyScalarFunction', @description = '–§—É–Ω–∫—Ü—ñ—è —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É –∑–Ω–∞—á–µ–Ω–Ω—è';
-- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –æ–ø–∏—Å –¥–ª—è —Ç–∞–±–ª–∏—á–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó
EXEC util.metadataSetFunctionDescription @function = 'dbo.MyTableFunction', @description = '–§—É–Ω–∫—Ü—ñ—è –ø–æ–≤–µ—Ä—Ç–∞—î –Ω–∞–±—ñ—Ä —Ä—è–¥–∫—ñ–≤';
```

## `metadataSetIndexDescription`

  * @major NVARCHAR(128) - –Ω–∞–∑–≤–∞ —Ç–∞–±–ª–∏—Ü—ñ –∞–±–æ object_id
  * @index NVARCHAR(128) - –Ω–∞–∑–≤–∞ —ñ–Ω–¥–µ–∫—Å—É
  * @description NVARCHAR(MAX) - —Ç–µ–∫—Å—Ç –æ–ø–∏—Å—É –¥–ª—è —ñ–Ω–¥–µ–∫—Å—É

–í—Å—Ç–∞–Ω–æ–≤–ª—é—î –æ–ø–∏—Å –¥–ª—è —ñ–Ω–¥–µ–∫—Å—É —á–µ—Ä–µ–∑ —Ä–æ–∑—à–∏—Ä–µ–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ MS_Description.
### Usage

```sql
-- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –æ–ø–∏—Å –¥–ª—è —ñ–Ω–¥–µ–∫—Å—É
EXEC util.metadataSetIndexDescription @major = 'dbo.myTable', @index = 'IX_myTable_Column1', @description = '–Ü–Ω–¥–µ–∫—Å –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –ø–æ—à—É–∫—É –ø–æ Column1';
-- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –æ–ø–∏—Å –¥–ª—è –ø–µ—Ä–≤–∏–Ω–Ω–æ–≥–æ –∫–ª—é—á–∞
EXEC util.metadataSetIndexDescription @major = 'dbo.myTable', @index = 'PK_myTable', @description = '–ü–µ—Ä–≤–∏–Ω–Ω–∏–π –∫–ª—é—á —Ç–∞–±–ª–∏—Ü—ñ';
```

## `metadataSetParameterDescription`

  * @major NVARCHAR(128) - –Ω–∞–∑–≤–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ –∞–±–æ —Ñ—É–Ω–∫—Ü—ñ—ó
  * @parameter NVARCHAR(128) - –Ω–∞–∑–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
  * @description NVARCHAR(MAX) - —Ç–µ–∫—Å—Ç –æ–ø–∏—Å—É –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞

–í—Å—Ç–∞–Ω–æ–≤–ª—é—î –æ–ø–∏—Å –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ –∞–±–æ —Ñ—É–Ω–∫—Ü—ñ—ó —á–µ—Ä–µ–∑ —Ä–æ–∑—à–∏—Ä–µ–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ MS_Description.
### Usage

```sql
-- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –æ–ø–∏—Å –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä–∏
EXEC util.metadataSetParameterDescription @major = 'dbo.myProcedure', @parameter = '@inputParam', @description = '–í—Ö—ñ–¥–Ω–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó';
-- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –æ–ø–∏—Å –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Ñ—É–Ω–∫—Ü—ñ—ó
EXEC util.metadataSetParameterDescription @major = 'dbo.myFunction', @parameter = '@searchValue', @description = '–ó–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è –ø–æ—à—É–∫—É –≤ —Ç–∞–±–ª–∏—Ü—ñ';
```

## `metadataSetProcedureDescription`

  * @procedure NVARCHAR(128) - –Ω–∞–∑–≤–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä–∏
  * @description NVARCHAR(MAX) - —Ç–µ–∫—Å—Ç –æ–ø–∏—Å—É –¥–ª—è –ø—Ä–æ—Ü–µ–¥—É—Ä–∏

–í—Å—Ç–∞–Ω–æ–≤–ª—é—î –æ–ø–∏—Å –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–æ—ó –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ —á–µ—Ä–µ–∑ —Ä–æ–∑—à–∏—Ä–µ–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ MS_Description.
### Usage

```sql
-- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –æ–ø–∏—Å –¥–ª—è –ø—Ä–æ—Ü–µ–¥—É—Ä–∏
EXEC util.metadataSetProcedureDescription @procedure = 'dbo.myProcedure', @description = '–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏—Ö –¥–∞–Ω–∏—Ö';
-- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –æ–ø–∏—Å –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω–æ—ó –ø—Ä–æ—Ü–µ–¥—É—Ä–∏
EXEC util.metadataSetProcedureDescription @procedure = 'util.errorHandler', @description = '–£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π –æ–±—Ä–æ–±–Ω–∏–∫ –ø–æ–º–∏–ª–æ–∫';
```

## `metadataSetSchemaDescription`

  * @schema NVARCHAR(128) - –Ω–∞–∑–≤–∞ —Å—Ö–µ–º–∏
  * @description NVARCHAR(MAX) - —Ç–µ–∫—Å—Ç –æ–ø–∏—Å—É –¥–ª—è —Å—Ö–µ–º–∏

–í—Å—Ç–∞–Ω–æ–≤–ª—é—î –æ–ø–∏—Å –¥–ª—è —Å—Ö–µ–º–∏ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö —á–µ—Ä–µ–∑ —Ä–æ–∑—à–∏—Ä–µ–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ MS_Description.
### Usage

```sql
-- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –æ–ø–∏—Å –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–æ—ó —Å—Ö–µ–º–∏
EXEC util.metadataSetSchemaDescription @schema = 'sales', @description = '–°—Ö–µ–º–∞ –¥–∞–Ω–∏—Ö –ø—Ä–æ–¥–∞–∂—ñ–≤';
-- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –æ–ø–∏—Å –¥–ª—è —Å–ª—É–∂–±–æ–≤–æ—ó —Å—Ö–µ–º–∏
EXEC util.metadataSetSchemaDescription @schema = 'util', @description = '–°—Ö–µ–º–∞ —É—Ç–∏–ª—ñ—Ç–∞—Ä–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π —Ç–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä';
```

## `metadataSetTableDescription`

  * @description NVARCHAR(MAX) - —Ç–µ–∫—Å—Ç –æ–ø–∏—Å—É –¥–ª—è —Ç–∞–±–ª–∏—Ü—ñ
  * @table NVARCHAR(128) - –Ω–∞–∑–≤–∞ —Ç–∞–±–ª–∏—Ü—ñ

–í—Å—Ç–∞–Ω–æ–≤–ª—é—î –æ–ø–∏—Å –¥–ª—è —Ç–∞–±–ª–∏—Ü—ñ —á–µ—Ä–µ–∑ —Ä–æ–∑—à–∏—Ä–µ–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ MS_Description.
### Usage

```sql
-- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –æ–ø–∏—Å –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–æ—ó —Ç–∞–±–ª–∏—Ü—ñ
EXEC util.metadataSetTableDescription @table = 'dbo.Customers', @description = '–¢–∞–±–ª–∏—Ü—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –∫–ª—ñ—î–Ω—Ç—ñ–≤';
-- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –æ–ø–∏—Å –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω–æ—ó —Ç–∞–±–ª–∏—Ü—ñ
EXEC util.metadataSetTableDescription @table = 'util.ErrorLog', @description = '–ñ—É—Ä–Ω–∞–ª –ø–æ–º–∏–ª–æ–∫ —Å–∏—Å—Ç–µ–º–∏';
```

## `metadataSetTriggerDescription`

  * @trigger NVARCHAR(128) - –Ω–∞–∑–≤–∞ —Ç—Ä–∏–≥–µ—Ä–∞
  * @description NVARCHAR(MAX) - —Ç–µ–∫—Å—Ç –æ–ø–∏—Å—É –¥–ª—è —Ç—Ä–∏–≥–µ—Ä–∞

–í—Å—Ç–∞–Ω–æ–≤–ª—é—î –æ–ø–∏—Å –¥–ª—è —Ç—Ä–∏–≥–µ—Ä–∞ —á–µ—Ä–µ–∑ —Ä–æ–∑—à–∏—Ä–µ–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ MS_Description.
### Usage

```sql
-- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –æ–ø–∏—Å –¥–ª—è —Ç—Ä–∏–≥–µ—Ä–∞ INSERT
EXEC util.metadataSetTriggerDescription @trigger = 'dbo.tr_Customers_Insert', @description = '–¢—Ä–∏–≥–µ—Ä –¥–ª—è –ª–æ–≥—É–≤–∞–Ω–Ω—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤';
-- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –æ–ø–∏—Å –¥–ª—è —Ç—Ä–∏–≥–µ—Ä–∞ UPDATE
EXEC util.metadataSetTriggerDescription @trigger = 'dbo.tr_Orders_Update', @description = '–¢—Ä–∏–≥–µ—Ä –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –±—ñ–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª –ø—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ –∑–∞–º–æ–≤–ª–µ–Ω—å';
```

## `metadataSetViewDescription`

  * @view NVARCHAR(128) - –Ω–∞–∑–≤–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è
  * @description NVARCHAR(MAX) - —Ç–µ–∫—Å—Ç –æ–ø–∏—Å—É –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è

–í—Å—Ç–∞–Ω–æ–≤–ª—é—î –æ–ø–∏—Å –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è (view) —á–µ—Ä–µ–∑ —Ä–æ–∑—à–∏—Ä–µ–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ MS_Description.
### Usage

```sql
-- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –æ–ø–∏—Å –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è
EXEC util.metadataSetViewDescription @view = 'dbo.vw_ActiveCustomers', @description = '–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è –∞–∫—Ç–∏–≤–Ω–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤ –∑ –æ—Å–Ω–æ–≤–Ω–æ—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é';
-- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –æ–ø–∏—Å –¥–ª—è —Å–∫–ª–∞–¥–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è
EXEC util.metadataSetViewDescription @view = 'dbo.vw_SalesReport', @description = '–ó–≤—ñ—Ç –ø—Ä–æ–¥–∞–∂—ñ–≤ –∑ –∞–≥—Ä–µ–≥–æ–≤–∞–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏ –ø–æ –ø–µ—Ä—ñ–æ–¥–∞—Ö';
```

## `modulesSetDescriptionFromComments`

  * @object NVARCHAR(128) - –Ω–∞–∑–≤–∞ –∞–±–æ ID –æ–±'—î–∫—Ç–∞ –º–æ–¥—É–ª—è –¥–ª—è –æ–±—Ä–æ–±–∫–∏

–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –æ–ø–∏—Å—ñ–≤ –æ–±'—î–∫—Ç—ñ–≤ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ —É –∫–æ–¥—ñ –º–æ–¥—É–ª—ñ–≤.
–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ñ—É–Ω–∫—Ü—ñ—é modulesGetDescriptionFromComments –¥–ª—è –≤–∏—Ç—è–≥–∞–Ω–Ω—è –æ–ø–∏—Å—ñ–≤ –∑ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤
—Ç–∞ –≥–µ–Ω–µ—Ä—É—î –∫–æ–º–∞–Ω–¥–∏ –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ä–æ–∑—à–∏—Ä–µ–Ω–∏—Ö –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π.
### Usage

```sql
-- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –æ–ø–∏—Å –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞
EXEC util.modulesSetDescriptionFromComments 'util.errorHandler'
-- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –æ–ø–∏—Å –¥–ª—è –æ–±'—î–∫—Ç–∞ –∑–∞ ID
EXEC util.modulesSetDescriptionFromComments '123456789'
```

## `modulesSetDescriptionFromCommentsLegacy`

  * @object NVARCHAR(128) - –Ω–∞–∑–≤–∞ –æ–±'—î–∫—Ç–∞ –¥–ª—è –æ–±—Ä–æ–±–∫–∏
  * @OnlyEmpty BIT = 1 - –≤—Å—Ç–∞–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –æ–ø–∏—Å–∏ —Ç—ñ–ª—å–∫–∏ –¥–ª—è –æ–±'—î–∫—Ç—ñ–≤ –±–µ–∑ —ñ—Å–Ω—É—é—á–∏—Ö –æ–ø–∏—Å—ñ–≤ (1) –∞–±–æ –¥–ª—è –≤—Å—ñ—Ö (0)

–í—Å—Ç–∞–Ω–æ–≤–ª—é—î –æ–ø–∏—Å–∏ –¥–ª—è –æ–±'—î–∫—Ç—ñ–≤ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö, –≤–∏—Ç—è–≥—É—é—á–∏ —ó—Ö –∑ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ —É –≤–∏—Ö—ñ–¥–Ω–æ–º—É –∫–æ–¥—ñ –º–æ–¥—É–ª—ñ–≤.
–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∞–Ω–∞–ª—ñ–∑—É—î –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ —Ç–∏–ø—É "-- Description:" —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ —Ä–æ–∑—à–∏—Ä–µ–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ.
### Usage

```sql
-- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –æ–ø–∏—Å–∏ –∑ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞
EXEC util.modulesSetDescriptionFromComments @object = 'myProcedure', @OnlyEmpty = 1;
-- –û–Ω–æ–≤–∏—Ç–∏ –æ–ø–∏—Å–∏ –¥–ª—è –≤—Å—ñ—Ö –æ–±'—î–∫—Ç—ñ–≤ –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –≤–æ–Ω–∏ –≤–∂–µ —ñ—Å–Ω—É—é—Ç—å
EXEC util.modulesSetDescriptionFromComments @object = 'myFunction', @On–ª—èEmpty = 0;
```

## `xeCopyModulesToTable`

  * @scope NVARCHAR(128) - —Å–∫–æ—É–ø –∞–±–æ —Ç–∏–ø –º–æ–¥—É–ª—ñ–≤ –¥–ª—è –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è

–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –¥–ª—è –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –º–æ–¥—É–ª—ñ–≤ –∑ Extended Events —É —Ç–∞–±–ª–∏—Ü—é –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ–≥–æ –∞–Ω–∞–ª—ñ–∑—É —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è.
–ß–∏—Ç–∞—î –¥–∞–Ω—ñ –∑ XE —Ñ–∞–π–ª—ñ–≤, –æ–±—Ä–æ–±–ª—è—î —ó—Ö —Ç–∞ –∑–∞–ø–∏—Å—É—î –≤ —Ç–∞–±–ª–∏—Ü—ñ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –º–æ–¥—É–ª—ñ–≤ –∑ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–º —Å–∫–æ—É–ø–æ–º.
### Usage

```sql
-- –ö–æ–ø—ñ—é–≤–∞—Ç–∏ –º–æ–¥—É–ª—ñ –¥–ª—è SSIS
EXEC util.xeCopyModulesToTable 'SSIS';
-- –ö–æ–ø—ñ—é–≤–∞—Ç–∏ –º–æ–¥—É–ª—ñ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
EXEC util.xeCopyModulesToTable 'Users'; 
```
# functions
## `indexesGetConventionNames`

  * @object NVARCHAR(128) = NULL - –ù–∞–∑–≤–∞ —Ç–∞–±–ª–∏—Ü—ñ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –Ω–∞–∑–≤ —ñ–Ω–¥–µ–∫—Å—ñ–≤ (NULL = —É—Å—ñ —Ç–∞–±–ª–∏—Ü—ñ)
  * @index NVARCHAR(128) = NULL - –ù–∞–∑–≤–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —ñ–Ω–¥–µ–∫—Å—É (NULL = —É—Å—ñ —ñ–Ω–¥–µ–∫—Å–∏)

–ì–µ–Ω–µ—Ä—É—î —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–æ–≤–∞–Ω—ñ –Ω–∞–∑–≤–∏ —ñ–Ω–¥–µ–∫—Å—ñ–≤ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ –∫–æ–Ω–≤–µ–Ω—Ü—ñ–π –Ω–∞–π–º–µ–Ω—É–≤–∞–Ω–Ω—è.
–§—É–Ω–∫—Ü—ñ—è –∞–Ω–∞–ª—ñ–∑—É—î —ñ—Å–Ω—É—é—á—ñ —ñ–Ω–¥–µ–∫—Å–∏ —ñ –ø—Ä–æ–ø–æ–Ω—É—î –Ω–æ–≤—ñ –Ω–∞–∑–≤–∏ –∑–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–º–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º–∏.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- SchemaName NVARCHAR(128) - –ù–∞–∑–≤–∞ —Å—Ö–µ–º–∏
- TableName NVARCHAR(128) - –ù–∞–∑–≤–∞ —Ç–∞–±–ª–∏—Ü—ñ
- IndexName NVARCHAR(128) - –ü–æ—Ç–æ—á–Ω–∞ –Ω–∞–∑–≤–∞ —ñ–Ω–¥–µ–∫—Å—É
- NewIndexName NVARCHAR(128) - –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∞ –Ω–∞–∑–≤–∞ –∑–≥—ñ–¥–Ω–æ –∫–æ–Ω–≤–µ–Ω—Ü—ñ–π
- IndexType NVARCHAR(60) - –¢–∏–ø —ñ–Ω–¥–µ–∫—Å—É
### Usage

```sql
-- –û—Ç—Ä–∏–º–∞—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –Ω–∞–∑–≤–∏ –¥–ª—è –≤—Å—ñ—Ö —ñ–Ω–¥–µ–∫—Å—ñ–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó —Ç–∞–±–ª–∏—Ü—ñ
SELECT * FROM util.indexesGetConventionNames('myTable', NULL);
-- –û—Ç—Ä–∏–º–∞—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—É –Ω–∞–∑–≤—É –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —ñ–Ω–¥–µ–∫—Å—É
SELECT * FROM util.indexesGetConventionNames('myTable', 'myIndex');
```

## `indexesGetMissing`

  * @object NVARCHAR(128) = NULL - –ù–∞–∑–≤–∞ —Ç–∞–±–ª–∏—Ü—ñ –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É –≤—ñ–¥—Å—É—Ç–Ω—ñ—Ö —ñ–Ω–¥–µ–∫—Å—ñ–≤ (NULL = —É—Å—ñ —Ç–∞–±–ª–∏—Ü—ñ)

–ó–Ω–∞—Ö–æ–¥–∏—Ç—å –≤—ñ–¥—Å—É—Ç–Ω—ñ —ñ–Ω–¥–µ–∫—Å–∏, —è–∫—ñ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î SQL Server –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –∑–∞–ø–∏—Ç—ñ–≤.
–§—É–Ω–∫—Ü—ñ—è –∞–Ω–∞–ª—ñ–∑—É—î DMV sys.dm_db_missing_index_* –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ –∫–æ—Ä–∏—Å–Ω–∏—Ö —ñ–Ω–¥–µ–∫—Å—ñ–≤.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- SchemaName NVARCHAR(128) - –ù–∞–∑–≤–∞ —Å—Ö–µ–º–∏
- TableName NVARCHAR(128) - –ù–∞–∑–≤–∞ —Ç–∞–±–ª–∏—Ü—ñ
- MissingIndexId INT - ID –≤—ñ–¥—Å—É—Ç–Ω—å–æ–≥–æ —ñ–Ω–¥–µ–∫—Å—É
- IndexAdvantage FLOAT - –û—Ü—ñ–Ω–∫–∞ –ø–µ—Ä–µ–≤–∞–≥–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω–¥–µ–∫—Å—É (—á–∏–º –±—ñ–ª—å—à–µ, —Ç–∏–º –∫—Ä–∞—â–µ)
- UserSeeks BIGINT - –ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ—à—É–∫—ñ–≤, —è–∫—ñ –± —Å–∫–æ—Ä–∏—Å—Ç–∞–ª–∏—Å—è —Ü–∏–º —ñ–Ω–¥–µ–∫—Å–æ–º
- UserScans BIGINT - –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Å–∫–∞–Ω—É–≤–∞–Ω—å, —è–∫—ñ –± —Å–∫–æ—Ä–∏—Å—Ç–∞–ª–∏—Å—è —Ü–∏–º —ñ–Ω–¥–µ–∫—Å–æ–º
- LastUserSeek DATETIME - –ß–∞—Å –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –ø–æ—à—É–∫—É
- LastUserScan DATETIME - –ß–∞—Å –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è
- AvgTotalUserCost FLOAT - –°–µ—Ä–µ–¥–Ω—è –≤–∞—Ä—Ç—ñ—Å—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤
- AvgUserImpact FLOAT - –°–µ—Ä–µ–¥–Ω—ñ–π –≤—ñ–¥—Å–æ—Ç–æ–∫ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
- SystemSeeks BIGINT - –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Å–∏—Å—Ç–µ–º–Ω–∏—Ö –ø–æ—à—É–∫—ñ–≤
- SystemScans BIGINT - –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Å–∏—Å—Ç–µ–º–Ω–∏—Ö —Å–∫–∞–Ω—É–≤–∞–Ω—å
- EqualityColumns NVARCHAR(4000) - –ö–æ–ª–æ–Ω–∫–∏ –¥–ª—è —É–º–æ–≤ —Ä—ñ–≤–Ω–æ—Å—Ç—ñ (WHERE col = value)
- InequalityColumns NVARCHAR(4000) - –ö–æ–ª–æ–Ω–∫–∏ –¥–ª—è —É–º–æ–≤ –Ω–µ—Ä—ñ–≤–Ω–æ—Å—Ç—ñ (WHERE col > value)
- IncludedColumns NVARCHAR(4000) - –ö–æ–ª–æ–Ω–∫–∏ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–Ω—è –≤ —ñ–Ω–¥–µ–∫—Å (INCLUDE)
- CreateIndexStatement NVARCHAR(MAX) - –ì–æ—Ç–æ–≤–∏–π DDL –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω–¥–µ–∫—Å—É
### Usage

```sql
-- –ó–Ω–∞–π—Ç–∏ –≤—Å—ñ –≤—ñ–¥—Å—É—Ç–Ω—ñ —ñ–Ω–¥–µ–∫—Å–∏ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö
SELECT * FROM util.indexesGetMissing(NULL)
ORDER BY IndexAdvantage DESC;
-- –ó–Ω–∞–π—Ç–∏ –≤—ñ–¥—Å—É—Ç–Ω—ñ —ñ–Ω–¥–µ–∫—Å–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó —Ç–∞–±–ª–∏—Ü—ñ
SELECT * FROM util.indexesGetMissing('MyTable')
ORDER BY IndexAdvantage DESC;
-- –¢–æ–ø-10 –Ω–∞–π–±—ñ–ª—å—à –∫–æ—Ä–∏—Å–Ω–∏—Ö –≤—ñ–¥—Å—É—Ç–Ω—ñ—Ö —ñ–Ω–¥–µ–∫—Å—ñ–≤
SELECT TOP 10 SchemaName, TableName, IndexAdvantage, CreateIndexStatement
FROM util.indexesGetMissing(NULL)
ORDER BY IndexAdvantage DESC;
-- –í—ñ–¥—Å—É—Ç–Ω—ñ —ñ–Ω–¥–µ–∫—Å–∏ –∑ –≤–∏—Å–æ–∫–∏–º –≤–ø–ª–∏–≤–æ–º –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å
SELECT * FROM util.indexesGetMissing(NULL)
WHERE AvgUserImpact > 80
ORDER BY IndexAdvantage DESC;
```

## `indexesGetScript`

  * @table NVARCHAR(128) = NULL - –ù–∞–∑–≤–∞ —Ç–∞–±–ª–∏—Ü—ñ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Å–∫—Ä–∏–ø—Ç—ñ–≤ —ñ–Ω–¥–µ–∫—Å—ñ–≤ (NULL = —É—Å—ñ —Ç–∞–±–ª–∏—Ü—ñ)
  * @index NVARCHAR(128) = NULL - –ù–∞–∑–≤–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —ñ–Ω–¥–µ–∫—Å—É (NULL = —É—Å—ñ —ñ–Ω–¥–µ–∫—Å–∏)

–ì–µ–Ω–µ—Ä—É—î DDL —Å–∫—Ä–∏–ø—Ç–∏ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω–¥–µ–∫—Å—ñ–≤ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —ñ—Å–Ω—É—é—á–∏—Ö —ñ–Ω–¥–µ–∫—Å—ñ–≤ —Ç–∞–±–ª–∏—Ü—å.
–§—É–Ω–∫—Ü—ñ—è —Ñ–æ—Ä–º—É—î –ø–æ–≤–Ω—ñ CREATE INDEX —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –≤–∫–ª—é—á–∞—é—á–∏ –≤—Å—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —ñ–Ω–¥–µ–∫—Å—É.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- SchemaName NVARCHAR(128) - –ù–∞–∑–≤–∞ —Å—Ö–µ–º–∏
- TableName NVARCHAR(128) - –ù–∞–∑–≤–∞ —Ç–∞–±–ª–∏—Ü—ñ
- IndexName NVARCHAR(128) - –ù–∞–∑–≤–∞ —ñ–Ω–¥–µ–∫—Å—É
- CreateScript NVARCHAR(MAX) - DDL —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω–¥–µ–∫—Å—É
### Usage

```sql
-- –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —Å–∫—Ä–∏–ø—Ç–∏ –¥–ª—è –≤—Å—ñ—Ö —ñ–Ω–¥–µ–∫—Å—ñ–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó —Ç–∞–±–ª–∏—Ü—ñ
SELECT * FROM util.indexesGetScript('myTable', NULL);
-- –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —ñ–Ω–¥–µ–∫—Å—É
SELECT * FROM util.indexesGetScript('myTable', 'myIndex');
```

## `indexesGetScriptConventionRename`

  * @table NVARCHAR(128) = NULL - –ù–∞–∑–≤–∞ —Ç–∞–±–ª–∏—Ü—ñ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Å–∫—Ä–∏–ø—Ç—ñ–≤ –ø–µ—Ä–µ–π–º–µ–Ω—É–≤–∞–Ω–Ω—è (NULL = —É—Å—ñ —Ç–∞–±–ª–∏—Ü—ñ)
  * @index NVARCHAR(128) = NULL - –ù–∞–∑–≤–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —ñ–Ω–¥–µ–∫—Å—É (NULL = —É—Å—ñ —ñ–Ω–¥–µ–∫—Å–∏)

–ì–µ–Ω–µ—Ä—É—î —Å–∫—Ä–∏–ø—Ç–∏ –¥–ª—è –ø–µ—Ä–µ–π–º–µ–Ω—É–≤–∞–Ω–Ω—è —ñ–Ω–¥–µ–∫—Å—ñ–≤ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö –∫–æ–Ω–≤–µ–Ω—Ü—ñ–π –Ω–∞–π–º–µ–Ω—É–≤–∞–Ω–Ω—è.
–§—É–Ω–∫—Ü—ñ—è —Å—Ç–≤–æ—Ä—é—î EXEC sp_rename –∫–æ–º–∞–Ω–¥–∏ –¥–ª—è –∑–º—ñ–Ω–∏ –Ω–∞–∑–≤ —ñ–Ω–¥–µ–∫—Å—ñ–≤ –Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- RenameScript NVARCHAR(MAX) - SQL —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–µ—Ä–µ–π–º–µ–Ω—É–≤–∞–Ω–Ω—è —ñ–Ω–¥–µ–∫—Å—É
### Usage

```sql
-- –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —Å–∫—Ä–∏–ø—Ç–∏ –ø–µ—Ä–µ–π–º–µ–Ω—É–≤–∞–Ω–Ω—è –¥–ª—è –≤—Å—ñ—Ö —ñ–Ω–¥–µ–∫—Å—ñ–≤ —Ç–∞–±–ª–∏—Ü—ñ
SELECT * FROM util.indexesGetScriptConventionRename('myTable', NULL);
-- –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —Å–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ–π–º–µ–Ω—É–≤–∞–Ω–Ω—è –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —ñ–Ω–¥–µ–∫—Å—É
SELECT * FROM util.indexesGetScriptConventionRename('myTable', 'myIndex');
```

## `indexesGetSpaceUsed`

  * @object NVARCHAR(128) = NULL - –ù–∞–∑–≤–∞ —Ç–∞–±–ª–∏—Ü—ñ –∞–±–æ —ó—ó ID –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É —ñ–Ω–¥–µ–∫—Å—ñ–≤ (NULL = —É—Å—ñ —Ç–∞–±–ª–∏—Ü—ñ)

–ü–æ–≤–µ—Ä—Ç–∞—î —Å—Ç–∏—Å–ª—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç–æ—Ä—É —ñ–Ω–¥–µ–∫—Å–∞–º–∏ —Ç–∞–±–ª–∏—Ü—ñ –∑ –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è–º –ø–æ —ñ–Ω–¥–µ–∫—Å–∞—Ö.
–§—É–Ω–∫—Ü—ñ—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î util.indexesGetSpaceUsedDetailed —Ç–∞ –∞–≥—Ä–µ–≥—É—î –¥–∞–Ω—ñ –ø–æ –≤—Å—ñ—Ö –ø–∞—Ä—Ç–∏—Ü—ñ—è—Ö –∫–æ–∂–Ω–æ–≥–æ —ñ–Ω–¥–µ–∫—Å—É.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- objectId INT - ID –æ–±'—î–∫—Ç–∞ —Ç–∞–±–ª–∏—Ü—ñ
- indexId INT - ID —ñ–Ω–¥–µ–∫—Å—É
- SchemaName NVARCHAR(128) - –ù–∞–∑–≤–∞ —Å—Ö–µ–º–∏
- TableName NVARCHAR(128) - –ù–∞–∑–≤–∞ —Ç–∞–±–ª–∏—Ü—ñ
- IndexName NVARCHAR(128) - –ù–∞–∑–≤–∞ —ñ–Ω–¥–µ–∫—Å—É
- IndexType NVARCHAR(60) - –¢–∏–ø —ñ–Ω–¥–µ–∫—Å—É
- TotalSizeMB BIGINT - –ó–∞–≥–∞–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä —ñ–Ω–¥–µ–∫—Å—É –≤ –ö–ë (—Å—É–º–∞ –ø–æ –≤—Å—ñ—Ö –ø–∞—Ä—Ç–∏—Ü—ñ—è—Ö)
- UsedSizeMB BIGINT - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏–π —Ä–æ–∑–º—ñ—Ä –≤ –ö–ë (—Å—É–º–∞ –ø–æ –≤—Å—ñ—Ö –ø–∞—Ä—Ç–∏—Ü—ñ—è—Ö)
- UnusedSizeMB BIGINT - –ù–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏–π —Ä–æ–∑–º—ñ—Ä –≤ –ö–ë (—Å—É–º–∞ –ø–æ –≤—Å—ñ—Ö –ø–∞—Ä—Ç–∏—Ü—ñ—è—Ö)
- RowsCount BIGINT - –ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä—è–¥–∫—ñ–≤ –≤ —ñ–Ω–¥–µ–∫—Å—ñ (—Å—É–º–∞ –ø–æ –≤—Å—ñ—Ö –ø–∞—Ä—Ç–∏—Ü—ñ—è—Ö)
- DataCompression NVARCHAR(60) - –¢–∏–ø —Å—Ç–∏—Å–Ω–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
### Usage

```sql
-- –°—Ç–∏—Å–ª–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤—Å—ñ—Ö —ñ–Ω–¥–µ–∫—Å–∞—Ö —Ç–∞–±–ª–∏—Ü—ñ
SELECT * FROM util.indexesGetSpaceUsed('MyTable');
-- –ó–Ω–∞–π—Ç–∏ –Ω–∞–π–±—ñ–ª—å—à—ñ —ñ–Ω–¥–µ–∫—Å–∏
SELECT * FROM util.indexesGetSpaceUsed('MyTable') 
ORDER BY TotalSizeMB DESC;
-- –ü–æ—Ä—ñ–≤–Ω—è—Ç–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—Ä–æ—Å—Ç–æ—Ä—É
SELECT IndexName, TotalSizeMB, RowsCount, 
       CASE WHEN RowsCount > 0 THEN TotalSizeMB / RowsCount ELSE 0 END AS AvgMBPerRow
FROM util.indexesGetSpaceUsed('MyTable')
ORDER BY AvgMBPerRow DESC;
-- –ê–Ω–∞–ª—ñ–∑ –≤—Å—ñ—Ö —ñ–Ω–¥–µ–∫—Å—ñ–≤ —É –±–∞–∑—ñ –¥–∞–Ω–∏—Ö
SELECT * FROM util.indexesGetSpaceUsed(NULL)
ORDER BY TotalSizeMB DESC;
```

## `indexesGetSpaceUsedDetailed`

  * @object NVARCHAR(128) - –ù–∞–∑–≤–∞ —Ç–∞–±–ª–∏—Ü—ñ –∞–±–æ —ó—ó ID –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É —ñ–Ω–¥–µ–∫—Å—ñ–≤

–ü–æ–≤–µ—Ä—Ç–∞—î –¥–µ—Ç–∞–ª—å–Ω—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç–æ—Ä—É —ñ–Ω–¥–µ–∫—Å–∞–º–∏ —Ç–∞–±–ª–∏—Ü—ñ –ø–æ –ø–∞—Ä—Ç–∏—Ü—ñ—è—Ö.
–§—É–Ω–∫—Ü—ñ—è –ø–æ–∫–∞–∑—É—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –¥–ª—è –∫–æ–∂–Ω–æ—ó –ø–∞—Ä—Ç–∏—Ü—ñ—ó –æ–∫—Ä–µ–º–æ, –≤–∫–ª—é—á–∞—é—á–∏ –¥–∞–Ω—ñ –ø—Ä–æ –ø–∞—Ä—Ç–∏—Ü—ñ–æ–Ω—É–≤–∞–Ω–Ω—è —Ç–∞ —Å—Ç–∏—Å–Ω–µ–Ω–Ω—è.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- SchemaName NVARCHAR(128) - –ù–∞–∑–≤–∞ —Å—Ö–µ–º–∏
- TableName NVARCHAR(128) - –ù–∞–∑–≤–∞ —Ç–∞–±–ª–∏—Ü—ñ
- IndexName NVARCHAR(128) - –ù–∞–∑–≤–∞ —ñ–Ω–¥–µ–∫—Å—É
- IndexType NVARCHAR(60) - –¢–∏–ø —ñ–Ω–¥–µ–∫—Å—É
- PartitionNumber INT - –ù–æ–º–µ—Ä –ø–∞—Ä—Ç–∏—Ü—ñ—ó
- PartitionFunction NVARCHAR(128) - –§—É–Ω–∫—Ü—ñ—è –ø–∞—Ä—Ç–∏—Ü—ñ–æ–Ω—É–≤–∞–Ω–Ω—è
- BoundaryValue SQL_VARIANT - –ì—Ä–∞–Ω–∏—á–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –ø–∞—Ä—Ç–∏—Ü—ñ—ó
- TotalSizeKB BIGINT - –†–æ–∑–º—ñ—Ä –ø–∞—Ä—Ç–∏—Ü—ñ—ó –≤ –ö–ë
- UsedSizeKB BIGINT - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏–π —Ä–æ–∑–º—ñ—Ä –≤ –ö–ë
- UnusedSizeKB BIGINT - –ù–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏–π —Ä–æ–∑–º—ñ—Ä –≤ –ö–ë
- RowsCount BIGINT - –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ä—è–¥–∫—ñ–≤ —É –ø–∞—Ä—Ç–∏—Ü—ñ—ó
- DataCompression NVARCHAR(60) - –¢–∏–ø —Å—Ç–∏—Å–Ω–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
### Usage

```sql
-- –î–µ—Ç–∞–ª—å–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–∞—Ä—Ç–∏—Ü—ñ—è—Ö –≤—Å—ñ—Ö —ñ–Ω–¥–µ–∫—Å—ñ–≤ —Ç–∞–±–ª–∏—Ü—ñ
SELECT * FROM util.indexesGetSpaceUsedDetailed('MyTable');
-- –ó–Ω–∞–π—Ç–∏ –Ω–∞–π–±—ñ–ª—å—à—ñ –ø–∞—Ä—Ç–∏—Ü—ñ—ó
SELECT * FROM util.indexesGetSpaceUsedDetailed('MyTable') 
ORDER BY TotalSizeKB DESC;
-- –ê–Ω–∞–ª—ñ–∑ —Å—Ç–∏—Å–Ω–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –ø–æ –ø–∞—Ä—Ç–∏—Ü—ñ—è—Ö
SELECT * FROM util.indexesGetSpaceUsedDetailed('MyTable')
WHERE DataCompression <> 'NONE';
```

## `indexesGetUnused`

  * @object NVARCHAR(128) = NULL - –ù–∞–∑–≤–∞ —Ç–∞–±–ª–∏—Ü—ñ –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É —ñ–Ω–¥–µ–∫—Å—ñ–≤ (NULL = —É—Å—ñ —Ç–∞–±–ª–∏—Ü—ñ)

–ó–Ω–∞—Ö–æ–¥–∏—Ç—å –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ —ñ–Ω–¥–µ–∫—Å–∏ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.
–§—É–Ω–∫—Ü—ñ—è –∞–Ω–∞–ª—ñ–∑—É—î DMV sys.dm_db_index_usage_stats –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —ñ–Ω–¥–µ–∫—Å—ñ–≤, —è–∫—ñ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∏—Å—å
–¥–ª—è –æ–ø–µ—Ä–∞—Ü—ñ–π —á–∏—Ç–∞–Ω–Ω—è (seeks, scans, lookups) –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∏—Å—å —Ç—ñ–ª—å–∫–∏ –¥–ª—è –æ–ø–µ—Ä–∞—Ü—ñ–π –∑–∞–ø–∏—Å—É.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- SchemaName NVARCHAR(128) - –ù–∞–∑–≤–∞ —Å—Ö–µ–º–∏
- TableName NVARCHAR(128) - –ù–∞–∑–≤–∞ —Ç–∞–±–ª–∏—Ü—ñ
- IndexName NVARCHAR(128) - –ù–∞–∑–≤–∞ —ñ–Ω–¥–µ–∫—Å—É
- IndexType NVARCHAR(60) - –¢–∏–ø —ñ–Ω–¥–µ–∫—Å—É
- UserSeeks BIGINT - –ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ—à—É–∫—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏
- UserScans BIGINT - –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Å–∫–∞–Ω—É–≤–∞–Ω—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏
- UserLookups BIGINT - –ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ—à—É–∫—ñ–≤ –∫–ª—é—á—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏
- UserUpdates BIGINT - –ö—ñ–ª—å–∫—ñ—Å—Ç—å –æ–Ω–æ–≤–ª–µ–Ω—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏
- LastUserSeek DATETIME - –ß–∞—Å –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –ø–æ—à—É–∫—É
- LastUserScan DATETIME - –ß–∞—Å –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è
- LastUserLookup DATETIME - –ß–∞—Å –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –ø–æ—à—É–∫—É –∫–ª—é—á–∞
- LastUserUpdate DATETIME - –ß–∞—Å –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
- UnusedReason NVARCHAR(200) - –ü—Ä–∏—á–∏–Ω–∞ –≤—ñ–¥–Ω–µ—Å–µ–Ω–Ω—è –¥–æ –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏—Ö
### Usage

```sql
-- –ó–Ω–∞–π—Ç–∏ –≤—Å—ñ –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ —ñ–Ω–¥–µ–∫—Å–∏ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö
SELECT * FROM util.indexesGetUnused(NULL);
-- –ó–Ω–∞–π—Ç–∏ –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ —ñ–Ω–¥–µ–∫—Å–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó —Ç–∞–±–ª–∏—Ü—ñ
SELECT * FROM util.indexesGetUnused('myTable');
-- –ó–Ω–∞–π—Ç–∏ —ñ–Ω–¥–µ–∫—Å–∏ –∑ —Ç—ñ–ª—å–∫–∏ –æ–ø–µ—Ä–∞—Ü—ñ—è–º–∏ –∑–∞–ø–∏—Å—É
SELECT * FROM util.indexesGetUnused(NULL) WHERE UnusedReason LIKE '%—Ç—ñ–ª—å–∫–∏ –∑–∞–ø–∏—Å%';
```

## `metadataGetAnyId`

  * @object NVARCHAR(128) - –Ω–∞–∑–≤–∞ –æ–±'—î–∫—Ç–∞
  * @class NVARCHAR(128) = 1 - –∫–ª–∞—Å –æ–±'—î–∫—Ç–∞ (—á–∏—Å–ª–æ –∞–±–æ —Ç–µ–∫—Å—Ç–æ–≤–∞ –Ω–∞–∑–≤–∞ –∫–ª–∞—Å—É)
  * @minorName NVARCHAR(128) = NULL - –¥–æ–¥–∞—Ç–∫–æ–≤–∞ –Ω–∞–∑–≤–∞ –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–æ–ª–æ–Ω–∫–∞ –∞–±–æ —ñ–Ω–¥–µ–∫—Å)

–£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è ID –±—É–¥—å-—è–∫–æ–≥–æ –æ–±'—î–∫—Ç–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –π–æ–≥–æ –∫–ª–∞—Å—É. 
–ü—ñ–¥—Ç—Ä–∏–º—É—î —Ä—ñ–∑–Ω—ñ —Ç–∏–ø–∏ –æ–±'—î–∫—Ç—ñ–≤: —Ç–∞–±–ª–∏—Ü—ñ, –∫–æ–ª–æ–Ω–∫–∏, —ñ–Ω–¥–µ–∫—Å–∏, —Å—Ö–µ–º–∏, –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, —Ñ–∞–π–ª–∏ —Ç–∞ —ñ–Ω—à—ñ.
### Returns
INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –æ–±'—î–∫—Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ–≥–æ —Ç–∏–ø—É –∞–±–æ NULL —è–∫—â–æ –æ–±'—î–∫—Ç –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
### Usage

```sql
-- –û—Ç—Ä–∏–º–∞—Ç–∏ object_id —Ç–∞–±–ª–∏—Ü—ñ
SELECT util.metadataGetAnyId('dbo.MyTable', 'OBJECT');
-- –û—Ç—Ä–∏–º–∞—Ç–∏ column_id –∫–æ–ª–æ–Ω–∫–∏
SELECT util.metadataGetAnyId('dbo.MyTable', 'OBJECT', 'MyColumn');
```

## `metadataGetAnyName`

  * @majorId INT - –æ—Å–Ω–æ–≤–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –æ–±'—î–∫—Ç–∞
  * @minorId INT = 0 - –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä (–¥–ª—è –∫–æ–ª–æ–Ω–æ–∫, —ñ–Ω–¥–µ–∫—Å—ñ–≤, –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤)
  * @class NVARCHAR(128) = '1' - –∫–ª–∞—Å –æ–±'—î–∫—Ç–∞ (—á–∏—Å–ª–æ –∞–±–æ —Ç–µ–∫—Å—Ç–æ–≤–∞ –Ω–∞–∑–≤–∞)

–£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —ñ–º–µ–Ω—ñ –±—É–¥—å-—è–∫–æ–≥–æ –æ–±'—î–∫—Ç–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –∑–∞ –π–æ–≥–æ ID —Ç–∞ –∫–ª–∞—Å–æ–º.
–î–æ–∑–≤–æ–ª—è—î –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ —ñ–º–µ–Ω–∞ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –æ–±'—î–∫—Ç—ñ–≤ –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —ó—Ö –∫–ª–∞—Å—É.
### Returns
NVARCHAR(128) - —ñ–º'—è –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞
### Usage

```sql
-- –û—Ç—Ä–∏–º–∞—Ç–∏ —ñ–º'—è —Ç–∞–±–ª–∏—Ü—ñ –∑–∞ object_id
SELECT util.metadataGetAnyName(OBJECT_ID('dbo.MyTable'), 0, '1');
-- –û—Ç—Ä–∏–º–∞—Ç–∏ —ñ–º'—è –∫–æ–ª–æ–Ω–∫–∏
SELECT util.metadataGetAnyName(OBJECT_ID('dbo.MyTable'), 1, '1');
```

## `metadataGetCertificateName`

  * @majorId INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞ (certificate_id)

–û—Ç—Ä–∏–º—É—î —ñ–º'—è —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞ –∑–∞ –π–æ–≥–æ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–æ–º –∑ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥—É.
### Returns
NVARCHAR(128) - —ñ–º'—è —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞ –≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω–∏—Ö –¥—É–∂–∫–∞—Ö –∞–±–æ NULL —è–∫—â–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
### Usage

```sql
-- –û—Ç—Ä–∏–º–∞—Ç–∏ —ñ–º'—è —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞ –∑–∞ ID
SELECT util.metadataGetCertificateName(1);
```

## `metadataGetClassByName`

  * @className NVARCHAR(128) - —Ç–µ–∫—Å—Ç–æ–≤–∞ –Ω–∞–∑–≤–∞ –∫–ª–∞—Å—É –æ–±'—î–∫—Ç–∞

–ü–æ–≤–µ—Ä—Ç–∞—î —á–∏—Å–ª–æ–≤–∏–π –∫–æ–¥ –∫–ª–∞—Å—É –æ–±'—î–∫—Ç–∞ –∑–∞ –π–æ–≥–æ —Ç–µ–∫—Å—Ç–æ–≤–æ—é –Ω–∞–∑–≤–æ—é.
–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –ª—é–¥—Å—å–∫–∏—Ö –Ω–∞–∑–≤ –∫–ª–∞—Å—ñ–≤ –≤ —Å–∏—Å—Ç–µ–º–Ω—ñ –∫–æ–¥–∏.
### Returns
TINYINT - —á–∏—Å–ª–æ–≤–∏–π –∫–æ–¥ –∫–ª–∞—Å—É (0-–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö, 1-–û–±'—î–∫—Ç/–ö–æ–ª–æ–Ω–∫–∞, 2-–ü–∞—Ä–∞–º–µ—Ç—Ä, —Ç–æ—â–æ) –∞–±–æ NULL –¥–ª—è –Ω–µ–≤—ñ–¥–æ–º–æ–≥–æ –∫–ª–∞—Å—É
### Usage

```sql
-- –û—Ç—Ä–∏–º–∞—Ç–∏ –∫–æ–¥ –∫–ª–∞—Å—É –∑–∞ –Ω–∞–∑–≤–æ—é
SELECT util.metadataGetClassByName('OBJECT_OR_COLUMN');
SELECT util.metadataGetClassByName('INDEX');
```

## `metadataGetClassName`

  * @class TINYINT - —á–∏—Å–ª–æ–≤–∏–π –∫–æ–¥ –∫–ª–∞—Å—É –æ–±'—î–∫—Ç–∞

–ü–æ–≤–µ—Ä—Ç–∞—î —Ç–µ–∫—Å—Ç–æ–≤—É –Ω–∞–∑–≤—É –∫–ª–∞—Å—É –æ–±'—î–∫—Ç–∞ –∑–∞ –π–æ–≥–æ —á–∏—Å–ª–æ–≤–∏–º –∫–æ–¥–æ–º.
–ó–≤–æ—Ä–æ—Ç–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –¥–æ metadataGetClassByName.
### Returns
NVARCHAR(128) - —Ç–µ–∫—Å—Ç–æ–≤–∞ –Ω–∞–∑–≤–∞ –∫–ª–∞—Å—É –∞–±–æ NULL –¥–ª—è –Ω–µ–≤—ñ–¥–æ–º–æ–≥–æ –∫–æ–¥—É
### Usage

```sql
-- –û—Ç—Ä–∏–º–∞—Ç–∏ –Ω–∞–∑–≤—É –∫–ª–∞—Å—É –∑–∞ –∫–æ–¥–æ–º
SELECT util.metadataGetClassName(1); -- OBJECT_OR_COLUMN
SELECT util.metadataGetClassName(3); -- SCHEMA
```

## `metadataGetColumnId`

  * @major NVARCHAR(128) - –Ω–∞–∑–≤–∞ –æ–±'—î–∫—Ç–∞ (—Ç–∞–±–ª–∏—Ü—è/–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è) –∞–±–æ object_id
  * @column NVARCHAR(128) - –Ω–∞–∑–≤–∞ —Å—Ç–æ–≤–ø—Ü—è –¥–ª—è —è–∫–æ–≥–æ —à—É–∫–∞—Ç–∏ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä

–û—Ç—Ä–∏–º—É—î column_id –¥–ª—è –∑–∞–¥–∞–Ω–æ–≥–æ —Å—Ç–æ–≤–ø—Ü—è –≤ —Ç–∞–±–ª–∏—Ü—ñ –∞–±–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ñ. 
–ü—ñ–¥—Ç—Ä–∏–º—É—î –ø–µ—Ä–µ–¥–∞—á—É —è–∫ –Ω–∞–∑–≤–∏ –æ–±'—î–∫—Ç–∞, —Ç–∞–∫ —ñ —á–∏—Å–ª–æ–≤–æ–≥–æ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∞ —Ç–∞–±–ª–∏—Ü—ñ.
### Returns
INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä —Å—Ç–æ–≤–ø—Ü—è (column_id) –∞–±–æ NULL —è–∫—â–æ —Å—Ç–æ–≤–ø–µ—Ü—å –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
### Usage

```sql
SELECT util.metadataGetColumnId('dbo.MyTable', 'MyColumn');
-- –û—Ç—Ä–∏–º–∞—Ç–∏ column_id –¥–ª—è —Å—Ç–æ–≤–ø—Ü—è MyColumn –≤ —Ç–∞–±–ª–∏—Ü—ñ dbo.MyTable
```

## `metadataGetColumnName`

  * @major NVARCHAR(128) - –Ω–∞–∑–≤–∞ —Ç–∞–±–ª–∏—Ü—ñ –∞–±–æ object_id
  * @columnId INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä —Å—Ç–æ–≤–ø—Ü—è (column_id)

–û—Ç—Ä–∏–º—É—î —ñ–º'—è —Å—Ç–æ–≤–ø—Ü—è –∑–∞ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–æ–º —Ç–∞–±–ª–∏—Ü—ñ —Ç–∞ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–æ–º —Å—Ç–æ–≤–ø—Ü—è.
### Returns
NVARCHAR(128) - —ñ–º'—è —Å—Ç–æ–≤–ø—Ü—è –≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω–∏—Ö –¥—É–∂–∫–∞—Ö –∞–±–æ NULL —è–∫—â–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
### Usage

```sql
SELECT util.metadataGetColumnName('dbo.MyTable', 1);
-- –û—Ç—Ä–∏–º–∞—Ç–∏ —ñ–º'—è —Å—Ç–æ–≤–ø—Ü—è –∑–∞ –π–æ–≥–æ column_id
```

## `metadataGetColumns`

  * @object NVARCHAR(128) = NULL - –Ω–∞–∑–≤–∞ –æ–±'—î–∫—Ç–∞ –∞–±–æ NULL –¥–ª—è –≤—Å—ñ—Ö —Ç–∞–±–ª–∏—Ü—å

–û—Ç—Ä–∏–º—É—î –¥–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –≤—Å—ñ —Å—Ç–æ–≤–ø—Ü—ñ —Ç–∞–±–ª–∏—Ü—ñ –∞–±–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è.
### Returns
–¢–∞–±–ª–∏—Ü—è –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏: column_id, name, system_type_name, max_length, precision, scale, is_nullable, is_identity
### Usage

```sql
SELECT * FROM util.metadataGetColumns('dbo.MyTable');
-- –û—Ç—Ä–∏–º–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –≤—Å—ñ —Å—Ç–æ–≤–ø—Ü—ñ —Ç–∞–±–ª–∏—Ü—ñ
```

## `metadataGetDataspaceId`

  * @dataSpace NVARCHAR(128) - –Ω–∞–∑–≤–∞ –ø—Ä–æ—Å—Ç–æ—Ä—É –¥–∞–Ω–∏—Ö

–û—Ç—Ä–∏–º—É—î —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –ø—Ä–æ—Å—Ç–æ—Ä—É –¥–∞–Ω–∏—Ö (data space) –∑–∞ –π–æ–≥–æ –Ω–∞–∑–≤–æ—é.
–ü—ñ–¥—Ç—Ä–∏–º—É—î —Ñ–∞–π–ª–æ–≤—ñ –≥—Ä—É–ø–∏ —Ç–∞ —Å—Ö–µ–º–∏ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è.
### Returns
INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –ø—Ä–æ—Å—Ç–æ—Ä—É –¥–∞–Ω–∏—Ö –∞–±–æ NULL —è–∫—â–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
### Usage

```sql
-- –û—Ç—Ä–∏–º–∞—Ç–∏ ID —Ñ–∞–π–ª–æ–≤–æ—ó –≥—Ä—É–ø–∏
SELECT util.metadataGetDataspaceId('PRIMARY');
-- –û—Ç—Ä–∏–º–∞—Ç–∏ ID —Å—Ö–µ–º–∏ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è
SELECT util.metadataGetDataspaceId('MyPartitionScheme');
```

## `metadataGetDataspaceName`

  * @dataSpaceId INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –ø—Ä–æ—Å—Ç–æ—Ä—É –¥–∞–Ω–∏—Ö

–û—Ç—Ä–∏–º—É—î –Ω–∞–∑–≤—É –ø—Ä–æ—Å—Ç–æ—Ä—É –¥–∞–Ω–∏—Ö (data space) –∑–∞ –π–æ–≥–æ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–æ–º.
–ü–æ–≤–µ—Ä—Ç–∞—î –Ω–∞–∑–≤—É –≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω–∏—Ö –¥—É–∂–∫–∞—Ö –¥–ª—è –±–µ–∑–ø–µ—á–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ SQL.
### Returns
NVARCHAR(128) - –Ω–∞–∑–≤–∞ –ø—Ä–æ—Å—Ç–æ—Ä—É –¥–∞–Ω–∏—Ö –≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω–∏—Ö –¥—É–∂–∫–∞—Ö –∞–±–æ NULL —è–∫—â–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
### Usage

```sql
-- –û—Ç—Ä–∏–º–∞—Ç–∏ –Ω–∞–∑–≤—É —Ñ–∞–π–ª–æ–≤–æ—ó –≥—Ä—É–ø–∏ –∑–∞ ID
SELECT util.metadataGetDataspaceName(1);
-- –û—Ç—Ä–∏–º–∞—Ç–∏ –Ω–∞–∑–≤—É —Å—Ö–µ–º–∏ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –∑–∞ ID
SELECT util.metadataGetDataspaceName(65537);
```

## `metadataGetDescriptions`

  * @major NVARCHAR(128) - –æ—Å–Ω–æ–≤–Ω–∏–π –æ–±'—î–∫—Ç –¥–ª—è –ø–æ—à—É–∫—É –æ–ø–∏—Å—ñ–≤
  * @minor NVARCHAR(128) - –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π –æ–±'—î–∫—Ç (–∫–æ–ª–æ–Ω–∫–∞, –ø–∞—Ä–∞–º–µ—Ç—Ä —Ç–æ—â–æ)

–û—Ç—Ä–∏–º—É—î –æ–ø–∏—Å–∏ (extended properties) –¥–ª—è –æ–±'—î–∫—Ç—ñ–≤ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –∑–∞ –∑–∞–¥–∞–Ω–∏–º–∏ –∫—Ä–∏—Ç–µ—Ä—ñ—è–º–∏.
–ü—Ä–∞—Ü—é—î –∑ —Ä–æ–∑—à–∏—Ä–µ–Ω–∏–º–∏ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—è–º–∏ —Ç–∏–ø—É MS_Description.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- majorId INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞
- minorId INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –¥–æ–¥–∞—Ç–∫–æ–≤–æ–≥–æ –æ–±'—î–∫—Ç–∞
- class TINYINT - –∫–ª–∞—Å –æ–±'—î–∫—Ç–∞
- description NVARCHAR(MAX) - —Ç–µ–∫—Å—Ç –æ–ø–∏—Å—É
### Usage

```sql
-- –û—Ç—Ä–∏–º–∞—Ç–∏ –æ–ø–∏—Å–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó —Ç–∞–±–ª–∏—Ü—ñ —Ç–∞ —ó—ó –∫–æ–ª–æ–Ω–æ–∫
SELECT * FROM util.metadataGetDescriptions('myTable', 'myColumn');
```

## `metadataGetExtendedProperiesValues`

  * @major NVARCHAR(128) = NULL - –æ—Å–Ω–æ–≤–Ω–∏–π –æ–±'—î–∫—Ç –¥–ª—è –ø–æ—à—É–∫—É (NULL = –≤—Å—ñ)
  * @minor NVARCHAR(128) = NULL - –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π –æ–±'—î–∫—Ç (NULL = –≤—Å—ñ)
  * @property NVARCHAR(128) = NULL - –Ω–∞–∑–≤–∞ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ (NULL = –≤—Å—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ)

–û—Ç—Ä–∏–º—É—î –∑–Ω–∞—á–µ–Ω–Ω—è —Ä–æ–∑—à–∏—Ä–µ–Ω–∏—Ö –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π (extended properties) –¥–ª—è –æ–±'—î–∫—Ç—ñ–≤ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö.
–î–æ–∑–≤–æ–ª—è—î —Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ –ø–æ –æ–±'—î–∫—Ç–∞—Ö —Ç–∞ —Ç–∏–ø–∞—Ö –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- majorName NVARCHAR(128) - –Ω–∞–∑–≤–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞
- minorName NVARCHAR(128) - –Ω–∞–∑–≤–∞ –¥–æ–¥–∞—Ç–∫–æ–≤–æ–≥–æ –æ–±'—î–∫—Ç–∞
- propertyName NVARCHAR(128) - –Ω–∞–∑–≤–∞ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ
- propertyValue NVARCHAR(MAX) - –∑–Ω–∞—á–µ–Ω–Ω—è –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ
- class TINYINT - –∫–ª–∞—Å –æ–±'—î–∫—Ç–∞
### Usage

```sql
-- –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ —Ä–æ–∑—à–∏—Ä–µ–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ –¥–ª—è —Ç–∞–±–ª–∏—Ü—ñ
SELECT * FROM util.metadataGetExtendedProperiesValues('myTable', NULL, NULL);
-- –û—Ç—Ä–∏–º–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ
SELECT * FROM util.metadataGetExtendedProperiesValues('myTable', 'myColumn', 'MS_Description');
```

## `metadataGetIndexes`

  * @object NVARCHAR(128) = NULL - –Ω–∞–∑–≤–∞ —Ç–∞–±–ª–∏—Ü—ñ –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —ñ–Ω–¥–µ–∫—Å—ñ–≤ (NULL = –≤—Å—ñ —Ç–∞–±–ª–∏—Ü—ñ)

–û—Ç—Ä–∏–º—É—î –¥–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —ñ–Ω–¥–µ–∫—Å–∏ –¥–ª—è –∑–∞–¥–∞–Ω–∏—Ö —Ç–∞–±–ª–∏—Ü—å.
–í–∫–ª—é—á–∞—î –æ—Å–Ω–æ–≤–Ω—ñ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —ñ–Ω–¥–µ–∫—Å—ñ–≤ —Ç–∞ —ó—Ö —Å—Ç–∞–Ω.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- object_id INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä —Ç–∞–±–ª–∏—Ü—ñ
- index_id INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä —ñ–Ω–¥–µ–∫—Å—É
- name NVARCHAR(128) - –Ω–∞–∑–≤–∞ —ñ–Ω–¥–µ–∫—Å—É
- type_desc NVARCHAR(60) - —Ç–∏–ø —ñ–Ω–¥–µ–∫—Å—É
- is_unique BIT - —á–∏ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–Ω–¥–µ–∫—Å
- is_primary_key BIT - —á–∏ –ø–µ—Ä–≤–∏–Ω–Ω–∏–π –∫–ª—é—á
### Usage

```sql
-- –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ —ñ–Ω–¥–µ–∫—Å–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó —Ç–∞–±–ª–∏—Ü—ñ
SELECT * FROM util.metadataGetIndexes('myTable');
-- –û—Ç—Ä–∏–º–∞—Ç–∏ —ñ–Ω–¥–µ–∫—Å–∏ –≤—Å—ñ—Ö —Ç–∞–±–ª–∏—Ü—å
SELECT * FROM util.metadataGetIndexes(NULL);
```

## `metadataGetIndexId`

  * @object NVARCHAR(128) - –Ω–∞–∑–≤–∞ —Ç–∞–±–ª–∏—Ü—ñ –∞–±–æ object_id
  * @indexName NVARCHAR(128) - –Ω–∞–∑–≤–∞ —ñ–Ω–¥–µ–∫—Å—É

–û—Ç—Ä–∏–º—É—î —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä —ñ–Ω–¥–µ–∫—Å—É –∑–∞ –Ω–∞–∑–≤–æ—é —Ç–∞–±–ª—ñ—Ü—ñ —Ç–∞ –Ω–∞–∑–≤–æ—é —ñ–Ω–¥–µ–∫—Å—É.
### Returns
INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä —ñ–Ω–¥–µ–∫—Å—É –∞–±–æ NULL —è–∫—â–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
### Usage

```sql
-- –û—Ç—Ä–∏–º–∞—Ç–∏ ID —ñ–Ω–¥–µ–∫—Å—É –∑–∞ –Ω–∞–∑–≤–∞–º–∏
SELECT util.metadataGetIndexId('myTable', 'IX_myTable_Column1');
-- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ object_id —Ç–∞–±–ª–∏—Ü—ñ
SELECT util.metadataGetIndexId('1234567890', 'IX_myTable_Column1');
```

## `metadataGetIndexName`

  * @major NVARCHAR(128) - –Ω–∞–∑–≤–∞ —Ç–∞–±–ª–∏—Ü—ñ –∞–±–æ object_id
  * @indexId INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä —ñ–Ω–¥–µ–∫—Å—É

–û—Ç—Ä–∏–º—É—î –Ω–∞–∑–≤—É —ñ–Ω–¥–µ–∫—Å—É –∑–∞ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–æ–º —Ç–∞–±–ª–∏—Ü—ñ —Ç–∞ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–æ–º —ñ–Ω–¥–µ–∫—Å—É.
### Returns
NVARCHAR(128) - –ø–æ–≤–Ω–∞ –Ω–∞–∑–≤–∞ —ñ–Ω–¥–µ–∫—Å—É —É —Ñ–æ—Ä–º–∞—Ç—ñ "—Å—Ö–µ–º–∞.—Ç–∞–±–ª–∏—Ü—è (—ñ–Ω–¥–µ–∫—Å)" –∞–±–æ NULL —è–∫—â–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
### Usage

```sql
-- –û—Ç—Ä–∏–º–∞—Ç–∏ –Ω–∞–∑–≤—É —ñ–Ω–¥–µ–∫—Å—É –∑–∞ ID
SELECT util.metadataGetIndexName('myTable', 2);
-- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ object_id —Ç–∞–±–ª–∏—Ü—ñ
SELECT util.metadataGetIndexName('1234567890', 2);
```

## `metadataGetObjectName`

  * @majorId INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –æ–±'—î–∫—Ç–∞ (object_id)

–û—Ç—Ä–∏–º—É—î –ø–æ–≤–Ω—É –Ω–∞–∑–≤—É –æ–±'—î–∫—Ç–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –∑–∞ –π–æ–≥–æ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–æ–º.
–ü–æ–≤–µ—Ä—Ç–∞—î –Ω–∞–∑–≤—É —É —Ñ–æ—Ä–º–∞—Ç—ñ "—Å—Ö–µ–º–∞.–æ–±'—î–∫—Ç" –≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω–∏—Ö –¥—É–∂–∫–∞—Ö.
### Returns
NVARCHAR(128) - –ø–æ–≤–Ω—É –Ω–∞–∑–≤—É –æ–±'—î–∫—Ç–∞ —É —Ñ–æ—Ä–º–∞—Ç—ñ "[—Å—Ö–µ–º–∞].[–æ–±'—î–∫—Ç]" –∞–±–æ NULL —è–∫—â–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
### Usage

```sql
-- –û—Ç—Ä–∏–º–∞—Ç–∏ –Ω–∞–∑–≤—É –æ–±'—î–∫—Ç–∞ –∑–∞ –π–æ–≥–æ ID
SELECT util.metadataGetObjectName(OBJECT_ID('dbo.myTable'));
-- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —á–∏—Å–ª–æ–≤–∏–π ID
SELECT util.metadataGetObjectName(1234567890);
```

## `metadataGetObjectsType`

  * @object NVARCHAR(128) = NULL - –Ω–∞–∑–≤–∞ –æ–±'—î–∫—Ç–∞ –∞–±–æ —Å–ø–∏—Å–æ–∫ –Ω–∞–∑–≤ —á–µ—Ä–µ–∑ –∫–æ–º—É (NULL = –≤—Å—ñ –æ–±'—î–∫—Ç–∏)

–û—Ç—Ä–∏–º—É—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Ç–∏–ø –æ–±'—î–∫—Ç—ñ–≤ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó.
–ü—ñ–¥—Ç—Ä–∏–º—É—î —è–∫ –æ–∫—Ä–µ–º—ñ –æ–±'—î–∫—Ç–∏, —Ç–∞–∫ —ñ —Å–ø–∏—Å–æ–∫ —á–µ—Ä–µ–∑ –∫–æ–º—É.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- objectId INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –æ–±'—î–∫—Ç–∞
- objectName NVARCHAR(128) - –Ω–∞–∑–≤–∞ –æ–±'—î–∫—Ç–∞
- objectType NVARCHAR(60) - —Ç–∏–ø –æ–±'—î–∫—Ç–∞
### Usage

```sql
-- –û—Ç—Ä–∏–º–∞—Ç–∏ —Ç–∏–ø –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞
SELECT * FROM util.metadataGetObjectsType('myTable');
-- –û—Ç—Ä–∏–º–∞—Ç–∏ —Ç–∏–ø–∏ –∫—ñ–ª—å–∫–æ—Ö –æ–±'—î–∫—Ç—ñ–≤
SELECT * FROM util.metadataGetObjectsType('myTable,myView,myProcedure');
```

## `metadataGetObjectType`

  * @object NVARCHAR(128) - –Ω–∞–∑–≤–∞ –æ–±'—î–∫—Ç–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

–û—Ç—Ä–∏–º—É—î —Ç–∏–ø –æ–±'—î–∫—Ç–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –∑–∞ –π–æ–≥–æ –Ω–∞–∑–≤–æ—é.
–°–ø—Ä–æ—â–µ–Ω–∞ –≤–µ—Ä—Å—ñ—è metadataGetObjectsType –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –æ–¥–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è.
### Returns
NVARCHAR(60) - —Ç–∏–ø –æ–±'—î–∫—Ç–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 'U' –¥–ª—è —Ç–∞–±–ª–∏—Ü—ñ, 'P' –¥–ª—è –ø—Ä–æ—Ü–µ–¥—É—Ä–∏, 'FN' –¥–ª—è —Ñ—É–Ω–∫—Ü—ñ—ó)
### Usage

```sql
-- –û—Ç—Ä–∏–º–∞—Ç–∏ —Ç–∏–ø –æ–±'—î–∫—Ç–∞
SELECT util.metadataGetObjectType('myTable');
-- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ —î –æ–±'—î–∫—Ç —Ç–∞–±–ª–∏—Ü–µ—é
SELECT CASE WHEN util.metadataGetObjectType('myTable') = 'U' THEN 'Table' ELSE 'Not Table' END;
```

## `metadataGetParameterId`

  * @object NVARCHAR(128) - –Ω–∞–∑–≤–∞ –∞–±–æ ID –æ–±'—î–∫—Ç–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
  * @parameterName NVARCHAR(128) - –Ω–∞–∑–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞

–û—Ç—Ä–∏–º—É—î —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–ª—è –≤–∫–∞–∑–∞–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö.
### Returns
INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∞–±–æ NULL —è–∫—â–æ –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
### Usage

```sql
-- –û—Ç—Ä–∏–º–∞—Ç–∏ ID –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä–∏
SELECT util.metadataGetParameterId('myProcedure', '@param1');
-- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ object_id
SELECT util.metadataGetParameterId('1234567890', '@param1');
```

## `metadataGetParameters`

  * @object NVARCHAR(128) = NULL - –ù–∞–∑–≤–∞ –æ–±'—î–∫—Ç–∞ –∞–±–æ object_id –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ (NULL = –≤—Å—ñ –æ–±'—î–∫—Ç–∏)

–ü–æ–≤–µ—Ä—Ç–∞—î –¥–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –¥–ª—è –≤–∫–∞–∑–∞–Ω–æ—ó –∑–±–µ—Ä–µ–∂–µ–Ω–æ—ó –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ –∞–±–æ —Ñ—É–Ω–∫—Ü—ñ—ó, 
–≤–∫–ª—é—á–∞—é—á–∏ –Ω–∞–∑–≤–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤, —Ç–∏–ø–∏ –¥–∞–Ω–∏—Ö, –Ω–∞–ø—Ä—è–º–∫–∏ —Ç–∞ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º. 
–í–∏–∫–ª—é—á–∞—î —Å–∏—Å—Ç–µ–º–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –±–µ–∑ —ñ–º–µ–Ω—ñ.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- objectId INT - –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –æ–±'—î–∫—Ç–∞
- schemaName NVARCHAR(128) - –ù–∞–∑–≤–∞ —Å—Ö–µ–º–∏
- objectName NVARCHAR(128) - –ù–∞–∑–≤–∞ –æ–±'—î–∫—Ç–∞
- parameterId INT - –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
- parameterName NVARCHAR(128) - –ù–∞–∑–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
### Usage

```sql
-- –û—Ç—Ä–∏–º–∞—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó –ø—Ä–æ—Ü–µ–¥—É—Ä–∏
SELECT * FROM util.metadataGetParameters('util.errorHandler');
-- –û—Ç—Ä–∏–º–∞—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –≤—Å—ñ—Ö –æ–±'—î–∫—Ç—ñ–≤
SELECT * FROM util.metadataGetParameters(DEFAULT);
```

## `metadataGetPartitionFunctionId`

  * @function NVARCHAR(128) - –Ω–∞–∑–≤–∞ —Ñ—É–Ω–∫—Ü—ñ—ó —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è

–û—Ç—Ä–∏–º—É—î —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä —Ñ—É–Ω–∫—Ü—ñ—ó —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –∑–∞ —ó—ó –Ω–∞–∑–≤–æ—é.
### Returns
INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä —Ñ—É–Ω–∫—Ü—ñ—ó —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –∞–±–æ NULL —è–∫—â–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
### Usage

```sql
-- –û—Ç—Ä–∏–º–∞—Ç–∏ ID —Ñ—É–Ω–∫—Ü—ñ—ó —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è
SELECT util.metadataGetPartitionFunctionId('myPartitionFunction');
```

## `metadataGetPartitionFunctionName`

  * @functionId INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä —Ñ—É–Ω–∫—Ü—ñ—ó —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è

–û—Ç—Ä–∏–º—É—î –Ω–∞–∑–≤—É —Ñ—É–Ω–∫—Ü—ñ—ó —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –∑–∞ —ó—ó —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–æ–º.
### Returns
NVARCHAR(128) - –Ω–∞–∑–≤–∞ —Ñ—É–Ω–∫—Ü—ñ—ó —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω–∏—Ö –¥—É–∂–∫–∞—Ö –∞–±–æ NULL —è–∫—â–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
### Usage

```sql
-- –û—Ç—Ä–∏–º–∞—Ç–∏ –Ω–∞–∑–≤—É —Ñ—É–Ω–∫—Ü—ñ—ó —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –∑–∞ ID
SELECT util.metadataGetPartitionFunctionName(1);
```

## `metadataGetRequiredPermission`

  * @object NVARCHAR(128) - –ø–æ–≤–Ω–µ —ñ–º'—è –æ–±'—î–∫—Ç–∞ —É —Ñ–æ—Ä–º–∞—Ç—ñ [—Å—Ö–µ–º–∞].[—ñ–º'—è] –∞–±–æ –ø—Ä–æ—Å—Ç–æ —ñ–º'—è

–í–∏–∑–Ω–∞—á–∞—î –æ–±'—î–∫—Ç–∏, –¥–ª—è —è–∫–∏—Ö –ø–æ—Ç—Ä—ñ–±–Ω—ñ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –ø—Ä–∞–≤–∞ –ø—Ä–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—ñ –∑–∞–¥–∞–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞ (–ø—Ä–æ—Ü–µ–¥—É—Ä–∏, —Ñ—É–Ω–∫—Ü—ñ—ó).
–ê–Ω–∞–ª—ñ–∑—É—î –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ —á–µ—Ä–µ–∑ sys.sql_expression_dependencies —Ç–∞ –≤–∏—è–≤–ª—è—î:
1. –û–±'—î–∫—Ç–∏ –∑ —ñ–Ω—à–∏—Ö –±–∞–∑ –¥–∞–Ω–∏—Ö (–∑–∞–≤–∂–¥–∏ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –ø—Ä–∞–≤)
2. –û–±'—î–∫—Ç–∏ –∑ —Ä—ñ–∑–Ω–∏–º–∏ –≤–ª–∞—Å–Ω–∏–∫–∞–º–∏ —Å—Ö–µ–º (–º–æ–∂—É—Ç—å –ø–æ—Ç—Ä–µ–±—É–≤–∞—Ç–∏ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –ø—Ä–∞–≤)
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- ObjectName NVARCHAR(MAX) - –ø–æ–≤–Ω–µ —ñ–º'—è –æ–±'—î–∫—Ç–∞, —è–∫–∏–π –ø–æ—Ç—Ä–µ–±—É—î –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –ø—Ä–∞–≤
- PermissionReason NVARCHAR(200) - –ø—Ä–∏—á–∏–Ω–∞, —á–æ–º—É –ø–æ—Ç—Ä—ñ–±–Ω—ñ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –ø—Ä–∞–≤–∞
- DatabaseName NVARCHAR(128) - –Ω–∞–∑–≤–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –æ–±'—î–∫—Ç–∞
- SchemaName NVARCHAR(128) - –Ω–∞–∑–≤–∞ —Å—Ö–µ–º–∏ –æ–±'—î–∫—Ç–∞
- EntityName NVARCHAR(128) - –Ω–∞–∑–≤–∞ –æ–±'—î–∫—Ç–∞
- SchemaOwner NVARCHAR(128) - –≤–ª–∞—Å–Ω–∏–∫ —Å—Ö–µ–º–∏ –æ–±'—î–∫—Ç–∞
### Usage

```sql
-- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—Ä–∞–≤–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó –ø—Ä–æ—Ü–µ–¥—É—Ä–∏
SELECT * FROM util.metadataGetRequiredPermission('util.myselfGetHistory');
-- –ê–Ω–∞–ª—ñ–∑ –ø—Ä–∞–≤ –¥–ª—è –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ –∑ –ø–æ–≤–Ω–∏–º —ñ–º–µ–Ω–µ–º
SELECT * FROM util.metadataGetRequiredPermission('[util].[errorHandler]');
-- –ì—Ä—É–ø—É–≤–∞–Ω–Ω—è –ø–æ –ø—Ä–∏—á–∏–Ω–∞—Ö
SELECT PermissionReason, COUNT(*) AS ObjectCount
FROM util.metadataGetRequiredPermission('util.myselfGetHistory')
GROUP BY PermissionReason;
```

## `modulesFindCommentsPositions`

  * @objectId INT = NULL - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –æ–±'—î–∫—Ç–∞ –¥–ª—è –ø–æ—à—É–∫—É –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ (NULL = —É—Å—ñ –æ–±'—î–∫—Ç–∏)

–ó–Ω–∞—Ö–æ–¥–∏—Ç—å –ø–æ–∑–∏—Ü—ñ—ó –≤—Å—ñ—Ö –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ (–±–∞–≥–∞—Ç–æ—Ä—è–¥–∫–æ–≤–∏—Ö —Ç–∞ –æ–¥–Ω–æ—Ä—è–¥–∫–æ–≤–∏—Ö) —É –º–æ–¥—É–ª—è—Ö –±–∞–∑–∏ –¥–∞–Ω–∏—Ö.
–û–±'—î–¥–Ω—É—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∑ —Ñ—É–Ω–∫—Ü—ñ–π –ø–æ—à—É–∫—É –±–∞–≥–∞—Ç–æ—Ä—è–¥–∫–æ–≤–∏—Ö —Ç–∞ –æ–¥–Ω–æ—Ä—è–¥–∫–æ–≤–∏—Ö –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- object_id INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –æ–±'—î–∫—Ç–∞
- startPosition INT - –ø–æ–∑–∏—Ü—ñ—è –ø–æ—á–∞—Ç–∫—É –∫–æ–º–µ–Ω—Ç–∞—Ä—è
- endPosition INT - –ø–æ–∑–∏—Ü—ñ—è –∫—ñ–Ω—Ü—è –∫–æ–º–µ–Ω—Ç–∞—Ä—è
### Usage

```sql
-- –ó–Ω–∞–π—Ç–∏ –≤—Å—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –æ–±'—î–∫—Ç—ñ
SELECT * FROM util.modulesFindCommentsPositions(OBJECT_ID('myProc'));
-- –ó–Ω–∞–π—Ç–∏ –≤—Å—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –≤ —É—Å—ñ—Ö –æ–±'—î–∫—Ç–∞—Ö
SELECT * FROM util.modulesFindCommentsPositions(NULL);
```

## `modulesFindInlineCommentsPositions`

  * @objectId INT = NULL - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –æ–±'—î–∫—Ç–∞ –¥–ª—è –ø–æ—à—É–∫—É –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ (NULL = —É—Å—ñ –æ–±'—î–∫—Ç–∏)

–ó–Ω–∞—Ö–æ–¥–∏—Ç—å –ø–æ–∑–∏—Ü—ñ—ó –æ–¥–Ω–æ—Ä—è–¥–∫–æ–≤–∏—Ö –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ (—â–æ –ø–æ—á–∏–Ω–∞—é—Ç—å—Å—è –∑ '--') —É –º–æ–¥—É–ª—è—Ö –±–∞–∑–∏ –¥–∞–Ω–∏—Ö.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- object_id INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –æ–±'—î–∫—Ç–∞
- startPosition INT - –ø–æ–∑–∏—Ü—ñ—è –ø–æ—á–∞—Ç–∫—É –∫–æ–º–µ–Ω—Ç–∞—Ä—è
- endPosition INT - –ø–æ–∑–∏—Ü—ñ—è –∫—ñ–Ω—Ü—è –∫–æ–º–µ–Ω—Ç–∞—Ä—è
### Usage

```sql
-- –ó–Ω–∞–π—Ç–∏ –æ–¥–Ω–æ—Ä—è–¥–∫–æ–≤—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –æ–±'—î–∫—Ç—ñ
SELECT * FROM util.modulesFindInlineCommentsPositions(OBJECT_ID('myProc'));
```

## `modulesFindLinesPositions`

  * @objectId INT = NULL - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –æ–±'—î–∫—Ç–∞ –¥–ª—è –ø–æ—à—É–∫—É —Ä—è–¥–∫—ñ–≤ (NULL = —É—Å—ñ –æ–±'—î–∫—Ç–∏)

–ó–Ω–∞—Ö–æ–¥–∏—Ç—å –ø–æ–∑–∏—Ü—ñ—ó –≤—Å—ñ—Ö —Ä—è–¥–∫—ñ–≤ —É –º–æ–¥—É–ª—è—Ö –±–∞–∑–∏ –¥–∞–Ω–∏—Ö, –≤–∫–ª—é—á–∞—é—á–∏ –ø–µ—Ä—à–∏–π —Ä—è–¥–æ–∫.
–ù—É–º–µ—Ä—É—î —Ä—è–¥–∫–∏ —Ç–∞ –≤–∏–∑–Ω–∞—á–∞—î —ó—Ö –ø–æ—á–∞—Ç–∫–æ–≤—ñ —Ç–∞ –∫—ñ–Ω—Ü–µ–≤—ñ –ø–æ–∑–∏—Ü—ñ—ó.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- object_id INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –æ–±'—î–∫—Ç–∞
- startPosition INT - –ø–æ–∑–∏—Ü—ñ—è –ø–æ—á–∞—Ç–∫—É —Ä—è–¥–∫–∞
- endPosition INT - –ø–æ–∑–∏—Ü—ñ—è –∫—ñ–Ω—Ü—è —Ä—è–¥–∫–∞
- lineNumber INT - –Ω–æ–º–µ—Ä —Ä—è–¥–∫–∞
### Usage

```sql
-- –ó–Ω–∞–π—Ç–∏ –≤—Å—ñ —Ä—è–¥–∫–∏ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –æ–±'—î–∫—Ç—ñ
SELECT * FROM util.modulesFindLinesPositions(OBJECT_ID('myProc'));
```

## `modulesFindMultilineCommentsPositions`
–ó–Ω–∞—Ö–æ–¥–∏—Ç—å –ø–æ–∑–∏—Ü—ñ—ó –±–∞–≥–∞—Ç–æ—Ä—è–¥–∫–æ–≤–∏—Ö –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ ( ... 
## `modulesFindSimilar`

  * @objectId INT = NULL - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –æ–±'—î–∫—Ç–∞ –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è

–ó–Ω–∞—Ö–æ–¥–∏—Ç—å —Å—Ö–æ–∂—ñ SQL –º–æ–¥—É–ª—ñ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö –Ω–∞ –æ—Å–Ω–æ–≤—ñ –∞–Ω–∞–ª—ñ–∑—É —ó—Ö –∫–æ–¥—É.
–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∞–ª–≥–æ—Ä–∏—Ç–º –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—ó —Ç–µ–∫—Å—Ç—É, —Ç–æ–∫–µ–Ω—ñ–∑–∞—Ü—ñ—ó —Ç–∞ —Ö–µ—à—É–≤–∞–Ω–Ω—è –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø–æ–¥—ñ–±–Ω–æ—Å—Ç—ñ –º—ñ–∂ –º–æ–¥—É–ª—è–º–∏.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- objectId INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞
- similarObjectId INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä —Å—Ö–æ–∂–æ–≥–æ –æ–±'—î–∫—Ç–∞  
- similarityPercent FLOAT - –≤—ñ–¥—Å–æ—Ç–æ–∫ —Å—Ö–æ–∂–æ—Å—Ç—ñ –º—ñ–∂ –æ–±'—î–∫—Ç–∞–º–∏
### Usage

```sql
SELECT * FROM util.modulesFindSimilar(NULL);
-- –ó–Ω–∞–π—Ç–∏ –≤—Å—ñ —Å—Ö–æ–∂—ñ –º–æ–¥—É–ª—ñ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö
```

## `modulesGetCreateLineNumber`

  * @objectId INT = NULL - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –æ–±'—î–∫—Ç–∞ –º–æ–¥—É–ª—è (—Ñ—É–Ω–∫—Ü—ñ—è, –ø—Ä–æ—Ü–µ–¥—É—Ä–∞, —Ç—Ä–∏–≥–µ—Ä)

–ü–æ–≤–µ—Ä—Ç–∞—î –Ω–æ–º–µ—Ä —Ä—è–¥–∫–∞, –¥–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –æ–ø–µ—Ä–∞—Ç–æ—Ä CREATE –¥–ª—è –∑–∞–¥–∞–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞ –º–æ–¥—É–ª—è.
–§—É–Ω–∫—Ü—ñ—è –∞–Ω–∞–ª—ñ–∑—É—î —Ç–µ–∫—Å—Ç –º–æ–¥—É–ª—è —Ç–∞ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –ø–µ—Ä—à–∏–π —Ä—è–¥–æ–∫ —â–æ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ "CREATE".
### Returns
TABLE:
- objectId INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –æ–±'—î–∫—Ç–∞
- lineNumber INT - –Ω–æ–º–µ—Ä —Ä—è–¥–∫–∞ –∑ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º CREATE
### Usage

```sql
-- –ó–Ω–∞–π—Ç–∏ –Ω–æ–º–µ—Ä —Ä—è–¥–∫–∞ –∑ CREATE –¥–ª—è –≤—Å—ñ—Ö –æ–±'—î–∫—Ç—ñ–≤
SELECT * FROM util.modulesGetCreateLineNumber(DEFAULT)
-- –ó–Ω–∞–π—Ç–∏ –Ω–æ–º–µ—Ä —Ä—è–¥–∫–∞ –∑ CREATE –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞
SELECT * FROM util.modulesGetCreateLineNumber(OBJECT_ID('util.errorHandler'))
```

## `modulesGetDescriptionFromComments`

  * @objectId INT = NULL - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –æ–±'—î–∫—Ç–∞ –º–æ–¥—É–ª—è (NULL –¥–ª—è –≤—Å—ñ—Ö –æ–±'—î–∫—Ç—ñ–≤)

–í–∏—Ç—è–≥—É—î –æ–ø–∏—Å –∑ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ –º–æ–¥—É–ª—ñ–≤ (—Ñ—É–Ω–∫—Ü—ñ–π, –ø—Ä–æ—Ü–µ–¥—É—Ä, —Ç—Ä–∏–≥–µ—Ä—ñ–≤) —Ç–∞ —Ñ–æ—Ä–º–∞—Ç—É—î –π–æ–≥–æ –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è 
—è–∫ —Ä–æ–∑—à–∏—Ä–µ–Ω—É –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å. –§—É–Ω–∫—Ü—ñ—è –∞–Ω–∞–ª—ñ–∑—É—î –±–∞–≥–∞—Ç–æ—Ä—è–¥–∫–æ–≤—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ —â–æ –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è –ø–µ—Ä–µ–¥ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º CREATE
—Ç–∞ –≤–∏—Ç—è–≥—É—î –∑ –Ω–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–π –æ–ø–∏—Å.
### Returns
TABLE:
- objectId INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –æ–±'—î–∫—Ç–∞
- objectType NVARCHAR(128) - —Ç–∏–ø –æ–±'—î–∫—Ç–∞ (FUNCTION, PROCEDURE, TRIGGER)
- minor INT - –º—ñ–Ω–æ—Ä–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä (–∑–∞–≤–∂–¥–∏ 0 –¥–ª—è –º–æ–¥—É–ª—ñ–≤)
- description NVARCHAR(MAX) - –≤—ñ–¥—Ñ–æ—Ä–º–∞—Ç–æ–≤–∞–Ω–∏–π –æ–ø–∏—Å –∑ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤
### Usage

```sql
-- –û—Ç—Ä–∏–º–∞—Ç–∏ –æ–ø–∏—Å –¥–ª—è –≤—Å—ñ—Ö –º–æ–¥—É–ª—ñ–≤
SELECT * FROM util.modulesGetDescriptionFromComments(DEFAULT)
-- –û—Ç—Ä–∏–º–∞—Ç–∏ –æ–ø–∏—Å –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–æ–¥—É–ª—è
SELECT * FROM util.modulesGetDescriptionFromComments(OBJECT_ID('util.errorHandler'))
```

## `modulesGetDescriptionFromCommentsLegacy`

  * @object NVARCHAR(128) = NULL - –Ω–∞–∑–≤–∞ –æ–±'—î–∫—Ç–∞ –¥–ª—è –ø–æ—à—É–∫—É –æ–ø–∏—Å—ñ–≤ (NULL = —É—Å—ñ –æ–±'—î–∫—Ç–∏)

–í–∏—Ç—è–≥—É—î –æ–ø–∏—Å–∏ –æ–±'—î–∫—Ç—ñ–≤ –∑ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ —É –≤–∏—Ö—ñ–¥–Ω–æ–º—É –∫–æ–¥—ñ –º–æ–¥—É–ª—ñ–≤, —à—É–∫–∞—é—á–∏ —Ä—è–¥–∫–∏ —â–æ –ø–æ—á–∏–Ω–∞—é—Ç—å—Å—è –∑ '-- Description:'.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- objectId INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –æ–±'—î–∫—Ç–∞
- schemaName NVARCHAR(128) - –Ω–∞–∑–≤–∞ —Å—Ö–µ–º–∏
- objectName NVARCHAR(128) - –Ω–∞–∑–≤–∞ –æ–±'—î–∫—Ç–∞
- description NVARCHAR(MAX) - –≤–∏—Ç—è–≥–Ω—É—Ç–∏–π –æ–ø–∏—Å –∑ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤
### Usage

```sql
-- –í–∏—Ç—è–≥—Ç–∏ –æ–ø–∏—Å–∏ –∑ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞
SELECT * FROM util.modulesGetDescriptionFromComments('myProc');
-- –í–∏—Ç—è–≥—Ç–∏ –æ–ø–∏—Å–∏ –¥–ª—è –≤—Å—ñ—Ö –æ–±'—î–∫—Ç—ñ–≤
SELECT * FROM util.modulesGetDescriptionFromComments(NULL);
```

## `modulesRecureSearchForOccurrences`

  * @searchFor NVARCHAR(64) - —Ä—è–¥–æ–∫ –¥–ª—è –ø–æ—à—É–∫—É –≤ —Ç–µ–∫—Å—Ç—ñ –≤–∏–∑–Ω–∞—á–µ–Ω—å –º–æ–¥—É–ª—ñ–≤
  * @options TINYINT - –±—ñ—Ç–æ–≤—ñ –æ–ø—Ü—ñ—ó –ø–æ—à—É–∫—É: (2): –ø—Ä–æ–ø—É—Å–∫–∞—Ç–∏ –≤—Ö–æ–¥–∂–µ–Ω–Ω—è –ø–µ—Ä–µ–¥ '.' –∞–±–æ '].',  (4): —à—É–∫–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ —Ü—ñ–ª—ñ —Å–ª–æ–≤–∞ (–Ω–µ —á–∞—Å—Ç–∏–Ω–∏ —Å–ª—ñ–≤), (8): –ø—Ä–æ–ø—É—Å–∫–∞—Ç–∏ –≤—Ö–æ–¥–∂–µ–Ω–Ω—è –≤ quoted names ([...])

–†–µ–∫—É—Ä—Å–∏–≤–Ω–æ —à—É–∫–∞—î –≤—Å—ñ –≤—Ö–æ–¥–∂–µ–Ω–Ω—è –∑–∞–¥–∞–Ω–æ–≥–æ —Ä—è–¥–∫–∞ —É –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è—Ö –º–æ–¥—É–ª—ñ–≤ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (stored procedures, functions, views, triggers).
–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î CTE –¥–ª—è –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è –≤—Å—ñ—Ö –ø–æ–∑–∏—Ü—ñ–π –≤—Ö–æ–¥–∂–µ–Ω–Ω—è –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó –∑–∞ –æ–ø—Ü—ñ—è–º–∏.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- object_id INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –æ–±'—î–∫—Ç–∞ –º–æ–¥—É–ª—è (sys.objects.object_id)
- occurrencePosition INT - –ø–æ–∑–∏—Ü—ñ—è –≤—Ö–æ–¥–∂–µ–Ω–Ω—è –≤ —Ç–µ–∫—Å—Ç—ñ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è (1-based)
## `modulesRecureSearchStartEndPositions`

  * @startValue NVARCHAR(32) - –ø–æ—á–∞—Ç–∫–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è –ø–æ—à—É–∫—É
  * @endValue NVARCHAR(32) - –∫—ñ–Ω—Ü–µ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è –ø–æ—à—É–∫—É

–†–µ–∫—É—Ä—Å–∏–≤–Ω–æ —à—É–∫–∞—î –ø–æ–∑–∏—Ü—ñ—ó –ø–æ—á–∞—Ç–∫—É —Ç–∞ –∫—ñ–Ω—Ü—è –±–ª–æ–∫—ñ–≤ —É –º–æ–¥—É–ª—è—Ö –∑–∞ –∑–∞–¥–∞–Ω–∏–º–∏ –ø–æ—á–∞—Ç–∫–æ–≤–∏–º —Ç–∞ –∫—ñ–Ω—Ü–µ–≤–∏–º –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏.
–°–ø—Ä–æ—â–µ–Ω–∞ –≤–µ—Ä—Å—ñ—è —Ñ—É–Ω–∫—Ü—ñ—ó modulesRecureSearchStartEndPositionsExtended.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- object_id INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –æ–±'—î–∫—Ç–∞
- startPosition INT - –ø–æ–∑–∏—Ü—ñ—è –ø–æ—á–∞—Ç–∫—É –±–ª–æ–∫—É
- endPosition INT - –ø–æ–∑–∏—Ü—ñ—è –∫—ñ–Ω—Ü—è –±–ª–æ–∫—É
### Usage

```sql
-- –ó–Ω–∞–π—Ç–∏ –±–ª–æ–∫–∏ BEGIN...END
SELECT * FROM util.modulesRecureSearchStartEndPositions('BEGIN', 'END');
-- –ó–Ω–∞–π—Ç–∏ –±–ª–æ–∫–∏ IF...END IF  
SELECT * FROM util.modulesRecureSearchStartEndPositions('IF', 'END IF');
```

## `modulesRecureSearchStartEndPositionsExtended`

  * @startValue NVARCHAR(32) - –ø–æ—á–∞—Ç–∫–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è –ø–æ—à—É–∫—É
  * @endValue NVARCHAR(32) - –∫—ñ–Ω—Ü–µ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è –ø–æ—à—É–∫—É
  * @replaceCRwithLF BIT = 0 - –∑–∞–º—ñ–Ω–∏—Ç–∏ CR –Ω–∞ LF (1) –∞–±–æ –∑–∞–ª–∏—à–∏—Ç–∏ —è–∫ —î (0)
  * @objectID INT = NULL - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞ (NULL = —É—Å—ñ –æ–±'—î–∫—Ç–∏)

–†–æ–∑—à–∏—Ä–µ–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–≥–æ –ø–æ—à—É–∫—É –ø–æ–∑–∏—Ü—ñ–π –ø–æ—á–∞—Ç–∫—É —Ç–∞ –∫—ñ–Ω—Ü—è –±–ª–æ–∫—ñ–≤ —É –º–æ–¥—É–ª—è—Ö –∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏–º–∏ –æ–ø—Ü—ñ—è–º–∏.
–ü—ñ–¥—Ç—Ä–∏–º—É—î –æ–±—Ä–æ–±–∫—É —Å–∏–º–≤–æ–ª—ñ–≤ –ø–µ—Ä–µ–Ω–æ—Å—É —Ä—è–¥–∫—ñ–≤ —Ç–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—é –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –æ–±'—î–∫—Ç–∞—Ö.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- object_id INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –æ–±'—î–∫—Ç–∞
- startPosition INT - –ø–æ–∑–∏—Ü—ñ—è –ø–æ—á–∞—Ç–∫—É –±–ª–æ–∫—É
- endPosition INT - –ø–æ–∑–∏—Ü—ñ—è –∫—ñ–Ω—Ü—è –±–ª–æ–∫—É
### Usage

```sql
-- –ó–Ω–∞–π—Ç–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –∑ –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—î—é –ø–µ—Ä–µ–Ω–æ—Å—ñ–≤ —Ä—è–¥–∫—ñ–≤
SELECT * FROM util.modulesRecureSearchStartEndPositionsExtended('', '
```

## `modulesSplitToLines`

  * @object NVARCHAR(128) - –Ω–∞–∑–≤–∞ –∞–±–æ ID –æ–±'—î–∫—Ç–∞ –¥–ª—è —Ä–æ–∑–±–∏—Ç—Ç—è –Ω–∞ —Ä—è–¥–∫–∏ (NULL = —É—Å—ñ –æ–±'—î–∫—Ç–∏)
  * @skipEmpty BIT = 1 - –ø—Ä–æ–ø—É—Å–∫–∞—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ —Ä—è–¥–∫–∏ (1 = —Ç–∞–∫, 0 = –≤–∫–ª—é—á–∞—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ —Ä—è–¥–∫–∏)

–†–æ–∑–±–∏–≤–∞—î –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –º–æ–¥—É–ª—ñ–≤ (–ø—Ä–æ—Ü–µ–¥—É—Ä, —Ñ—É–Ω–∫—Ü—ñ–π, —Ç—Ä–∏–≥–µ—Ä—ñ–≤) –Ω–∞ –æ–∫—Ä–µ–º—ñ —Ä—è–¥–∫–∏ –∑ –Ω—É–º–µ—Ä–∞—Ü—ñ—î—é –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ–≥–æ –∞–Ω–∞–ª—ñ–∑—É.
–§—É–Ω–∫—Ü—ñ—è –æ–±—Ä–æ–±–ª—è—î —Ç–µ–∫—Å—Ç –∑ sys.sql_modules, –∑–∞–º—ñ–Ω—é—î —Ç–∞–±—É–ª—è—Ü—ñ—ó –Ω–∞ –ø—Ä–æ–±—ñ–ª–∏ —Ç–∞ –º–æ–∂–µ –ø—Ä–æ–ø—É—Å–∫–∞—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ —Ä—è–¥–∫–∏.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- objectId INT - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –æ–±'—î–∫—Ç–∞ –º–æ–¥—É–ª—è
- line NVARCHAR(MAX) - —Ç–µ–∫—Å—Ç —Ä—è–¥–∫–∞ (–∑ –æ–±—Ä—ñ–∑–∞–Ω–∏–º–∏ –ø—Ä–æ–±—ñ–ª–∞–º–∏ —Ç–∞ –∑–∞–º—ñ–Ω–µ–Ω–∏–º–∏ —Ç–∞–±—É–ª—è—Ü—ñ—è–º–∏)
- lineNumber INT - –Ω–æ–º–µ—Ä —Ä—è–¥–∫–∞ –≤ –º–æ–¥—É–ª—ñ (–ø–æ—Ä—è–¥–∫–æ–≤–∏–π –Ω–æ–º–µ—Ä)
### Usage

```sql
-- –†–æ–∑–±–∏—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –º–æ–¥—É–ª—å –Ω–∞ —Ä—è–¥–∫–∏ (–±–µ–∑ –ø–æ—Ä–æ–∂–Ω—ñ—Ö)
SELECT * FROM util.modulesSplitToLines('util.errorHandler', 1);
-- –†–æ–∑–±–∏—Ç–∏ –º–æ–¥—É–ª—å –≤–∫–ª—é—á–∞—é—á–∏ –ø–æ—Ä–æ–∂–Ω—ñ —Ä—è–¥–∫–∏
SELECT * FROM util.modulesSplitToLines('util.errorHandler', 0);
-- –†–æ–∑–±–∏—Ç–∏ –≤—Å—ñ –º–æ–¥—É–ª—ñ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö
SELECT * FROM util.modulesSplitToLines(NULL, 1);
-- –ó–Ω–∞–π—Ç–∏ —Ä—è–¥–∫–∏ –∑ CREATE –≤ –º–æ–¥—É–ª—ñ
SELECT * FROM util.modulesSplitToLines('util.errorHandler', 1)
WHERE line LIKE 'CREATE%';
```

## `myselfActiveIndexCreation`
–í—ñ–¥—Å—Ç–µ–∂—É—î –ø—Ä–æ–≥—Ä–µ—Å –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω–¥–µ–∫—Å—ñ–≤ –ø–æ—Ç–æ—á–Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º.
–§—É–Ω–∫—Ü—ñ—è –º–æ–Ω—ñ—Ç–æ—Ä–∏—Ç—å –æ–ø–µ—Ä–∞—Ü—ñ—ó CREATE INDEX —Ç–∞ –ø–æ–∫–∞–∑—É—î –¥–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —ó—Ö –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- sessionId INT - –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä —Å–µ—Å—ñ—ó
- pysicalOperatorName NVARCHAR - –ù–∞–∑–≤–∞ —Ñ—ñ–∑–∏—á–Ω–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
- CurrentStep NVARCHAR - –ü–æ—Ç–æ—á–Ω–∏–π –∫—Ä–æ–∫ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
- TotalRows BIGINT - –ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä—è–¥–∫—ñ–≤ –¥–ª—è –æ–±—Ä–æ–±–∫–∏
- RowsProcessed BIGINT - –ö—ñ–ª—å–∫—ñ—Å—Ç—å –æ–±—Ä–æ–±–ª–µ–Ω–∏—Ö —Ä—è–¥–∫—ñ–≤
- RowsLeft BIGINT - –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ä—è–¥–∫—ñ–≤ —â–æ –∑–∞–ª–∏—à–∏–ª–∏—Å—å
- ElapsedSeconds DECIMAL - –ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
- currentStatement NVARCHAR - –ü–æ—Ç–æ—á–Ω–∞ T-SQL –∫–æ–º–∞–Ω–¥–∞ CREATE INDEX
### Usage

```sql
-- –í—ñ–¥—Å—Ç–µ–∂–∏—Ç–∏ –ø—Ä–æ–≥—Ä–µ—Å –≤—Å—ñ—Ö –∞–∫—Ç–∏–≤–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω–¥–µ–∫—Å—ñ–≤
SELECT * FROM util.myselfActiveIndexCreation();
```

## `stringFindCommentsPositions`
–ó–Ω–∞—Ö–æ–¥–∏—Ç—å –ø–æ–∑–∏—Ü—ñ—ó –≤—Å—ñ—Ö –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ (–±–∞–≥–∞—Ç–æ—Ä—è–¥–∫–æ–≤–∏—Ö —Ç–∞ –æ–¥–Ω–æ—Ä—è–¥–∫–æ–≤–∏—Ö) —É –ø–µ—Ä–µ–¥–∞–Ω–æ–º—É —Ç–µ–∫—Å—Ç—ñ.
–û–±'—î–¥–Ω—É—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø–æ—à—É–∫—É –±–∞–≥–∞—Ç–æ—Ä—è–¥–∫–æ–≤–∏—Ö –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤  
## `stringFindInlineCommentsPositions`

  * @string NVARCHAR(MAX) - —Ç–µ–∫—Å—Ç –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤
  * @replaceCRwithLF BIT = 1 - –∑–∞–º—ñ–Ω—é–≤–∞—Ç–∏ CR –Ω–∞ LF –¥–ª—è –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—ó –ø–µ—Ä–µ–Ω–æ—Å—ñ–≤ —Ä—è–¥–∫—ñ–≤

–ó–Ω–∞—Ö–æ–¥–∏—Ç—å –ø–æ–∑–∏—Ü—ñ—ó –æ–¥–Ω–æ—Ä—è–¥–∫–æ–≤–∏—Ö –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ (—â–æ –ø–æ—á–∏–Ω–∞—é—Ç—å—Å—è –∑ '--') —É –ø–µ—Ä–µ–¥–∞–Ω–æ–º—É —Ç–µ–∫—Å—Ç—ñ.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- startPosition INT - –ø–æ–∑–∏—Ü—ñ—è –ø–æ—á–∞—Ç–∫—É –∫–æ–º–µ–Ω—Ç–∞—Ä—è
- endPosition INT - –ø–æ–∑–∏—Ü—ñ—è –∫—ñ–Ω—Ü—è –∫–æ–º–µ–Ω—Ç–∞—Ä—è
## `stringFindLinesPositions`

  * @string NVARCHAR(MAX) - —Ç–µ–∫—Å—Ç –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É –ø–æ–∑–∏—Ü—ñ–π —Ä—è–¥–∫—ñ–≤
  * @replaceCRwithLF BIT = 1 - –∑–∞–º—ñ–Ω—é–≤–∞—Ç–∏ CR –Ω–∞ LF –¥–ª—è –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—ó –ø–µ—Ä–µ–Ω–æ—Å—ñ–≤ —Ä—è–¥–∫—ñ–≤

–ó–Ω–∞—Ö–æ–¥–∏—Ç—å –ø–æ–∑–∏—Ü—ñ—ó –≤—Å—ñ—Ö —Ä—è–¥–∫—ñ–≤ —É –ø–µ—Ä–µ–¥–∞–Ω–æ–º—É —Ç–µ–∫—Å—Ç—ñ, –≤–∫–ª—é—á–∞—é—á–∏ –ø–µ—Ä—à–∏–π —Ä—è–¥–æ–∫.
–ù—É–º–µ—Ä—É—î —Ä—è–¥–∫–∏ —Ç–∞ –≤–∏–∑–Ω–∞—á–∞—î —ó—Ö –ø–æ—á–∞—Ç–∫–æ–≤—ñ —Ç–∞ –∫—ñ–Ω—Ü–µ–≤—ñ –ø–æ–∑–∏—Ü—ñ—ó.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- startPosition INT - –ø–æ–∑–∏—Ü—ñ—è –ø–æ—á–∞—Ç–∫—É —Ä—è–¥–∫–∞
- endPosition INT - –ø–æ–∑–∏—Ü—ñ—è –∫—ñ–Ω—Ü—è —Ä—è–¥–∫–∞
- lineNumber INT - –Ω–æ–º–µ—Ä —Ä—è–¥–∫–∞
## `stringFindMultilineCommentsPositions`
–ó–Ω–∞—Ö–æ–¥–∏—Ç—å –ø–æ–∑–∏—Ü—ñ—ó –±–∞–≥–∞—Ç–æ—Ä—è–¥–∫–æ–≤–∏—Ö –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ ( ... 
## `stringGetCreateLineNumber`

  * @string NVARCHAR(MAX) - —Ç–µ–∫—Å—Ç –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É (SQL —Å–∫—Ä–∏–ø—Ç –∞–±–æ –∫–æ–¥)
  * @skipEmpty BIT = 1 - –ø—Ä–æ–ø—É—Å–∫–∞—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ —Ä—è–¥–∫–∏ –ø—Ä–∏ –Ω—É–º–µ—Ä–∞—Ü—ñ—ó (1 = –ø—Ä–æ–ø—É—Å–∫–∞—Ç–∏, 0 = –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞—Ç–∏)

–ó–Ω–∞—Ö–æ–¥–∏—Ç—å –Ω–æ–º–µ—Ä —Ä—è–¥–∫–∞ –¥–µ —Ä–æ–∑—Ç–∞—à–æ–≤–∞–Ω–∞ –ø–µ—Ä—à–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è CREATE —É –ø–µ—Ä–µ–¥–∞–Ω–æ–º—É —Ç–µ–∫—Å—Ç—ñ.
–§—É–Ω–∫—Ü—ñ—è –∫–æ—Ä–∏—Å–Ω–∞ –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É SQL —Å–∫—Ä–∏–ø—Ç—ñ–≤ —Ç–∞ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ—á–∞—Ç–∫—É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–æ—é:
- lineNumber INT - –Ω–æ–º–µ—Ä —Ä—è–¥–∫–∞ –¥–µ –∑–Ω–∞–π–¥–µ–Ω–∞ –ø–µ—Ä—à–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è CREATE
### Usage

```sql
-- –ó–Ω–∞–π—Ç–∏ —Ä—è–¥–æ–∫ –∑ CREATE –≤ SQL –∫–æ–¥—ñ
DECLARE @sql NVARCHAR(MAX) = 'GO
-- –ö–æ–º–µ–Ω—Ç–∞—Ä
CREATE OR ALTER PROCEDURE dbo.Test
AS BEGIN
  SELECT 1
END'
SELECT * FROM util.stringGetCreateLineNumber(@sql, 1);
-- –†–µ–∑—É–ª—å—Ç–∞—Ç: lineNumber = 3 (—è–∫—â–æ –ø—Ä–æ–ø—É—Å–∫–∞—î–º–æ –ø–æ—Ä–æ–∂–Ω—ñ —Ä—è–¥–∫–∏)
```

## `stringGetCreateTempScript`

  * @query NVARCHAR(MAX) - SQL –∑–∞–ø–∏—Ç –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ —Ä–µ–∑—É–ª—å—Ç—É—é—á–æ–≥–æ –Ω–∞–±–æ—Ä—É
  * @tablename NVARCHAR(128) = NULL - —ñ–º'—è —Å—Ç–≤–æ—Ä—é–≤–∞–Ω–æ—ó —Ç–∞–±–ª–∏—Ü—ñ (default: #temp)  
  * @params NVARCHAR(MAX) = NULL - –¥–µ–∫–ª–∞—Ä–∞—Ü—ñ—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –∑–∞–ø–∏—Ç—É —É —Ñ–æ—Ä–º–∞—Ç—ñ sp_executesql

Scalar —Ñ—É–Ω–∫—Ü—ñ—è-–æ–±–≥–æ—Ä—Ç–∫–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó DDL —Å–∫—Ä–∏–ø—Ç—É –Ω–∞ –æ—Å–Ω–æ–≤—ñ –∞–Ω–∞–ª—ñ–∑—É SQL –∑–∞–ø–∏—Ç—É.
–í–∏–∫–ª–∏–∫–∞—î inline —Ñ—É–Ω–∫—Ü—ñ—é util.stringGetCreateTempScriptInline —ñ –ø–æ–≤–µ—Ä—Ç–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç —è–∫ —Å–∫–∞–ª—è—Ä–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è.
–ü—ñ–¥—Ç—Ä–∏–º—É—î –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω—ñ –∑–∞–ø–∏—Ç–∏ —á–µ—Ä–µ–∑ –¥–µ–∫–ª–∞—Ä–∞—Ü—ñ—é @params.
### Returns
NVARCHAR(MAX) - –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è CREATE TABLE —Å–∫—Ä–∏–ø—Ç
### Usage

```sql
SELECT util.stringGetCreateTempScript('SELECT * FROM util.indexesGetMissing(DEFAULT)',DEFAULT,DEFAULT)
```

## `stringGetCreateTempScriptInline`

  * @query NVARCHAR(MAX) - SQL –∑–∞–ø–∏—Ç –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ —Ä–µ–∑—É–ª—å—Ç—É—é—á–æ–≥–æ –Ω–∞–±–æ—Ä—É
  * @tablename NVARCHAR(128) = NULL - –Ω–∞–∑–≤–∞ —Å—Ç–≤–æ—Ä—é–≤–∞–Ω–æ—ó —Ç–∏–º—á–∞—Å–æ–≤–æ—ó —Ç–∞–±–ª–∏—Ü—ñ (default: #temp)
  * @params NVARCHAR(MAX) = NULL - —Ä—è–¥–æ–∫ –¥–µ–∫–ª–∞—Ä–∞—Ü—ñ—ó –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ —É —Ñ–æ—Ä–º–∞—Ç—ñ sp_executesql

Inline table-valued —Ñ—É–Ω–∫—Ü—ñ—è –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É SQL –∑–∞–ø–∏—Ç—É —Ç–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ–≥–æ CREATE TABLE DDL.
–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î sys.dm_exec_describe_first_result_set –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤.
–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∑–Ω–∞—á–∞—î —Ç–∏–ø–∏ –¥–∞–Ω–∏—Ö, nullable constraints —Ç–∞ —Ñ–æ—Ä–º–∞—Ç—É—î —Ä–µ–∑—É–ª—å—Ç—É—é—á–∏–π —Å–∫—Ä–∏–ø—Ç.
### Returns
TABLE - —Ç–∞–±–ª–∏—á–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑ —î–¥–∏–Ω–æ—é –∫–æ–ª–æ–Ω–∫–æ—é:
- createScript NVARCHAR(MAX) - —Ñ–æ—Ä–º–∞—Ç–æ–≤–∞–Ω–∏–π CREATE TABLE —Å–∫—Ä–∏–ø—Ç –∑ –ø–µ—Ä–µ–Ω–æ—Å–∞–º–∏ —Ä—è–¥–∫—ñ–≤
### Usage

```sql
SELECT * FROM util.stringGetCreateTempScriptInline('SELECT * FROM util.indexesGetMissing(DEFAULT)',DEFAULT,DEFAULT)
```

## `stringRecureSearchForOccurrences`

  * @string NVARCHAR(MAX) - —Ç–µ–∫—Å—Ç –¥–ª—è –ø–æ—à—É–∫—É –≤—Ö–æ–¥–∂–µ–Ω—å
  * @searchFor NVARCHAR(64) - —Ä—è–¥–æ–∫ –¥–ª—è –ø–æ—à—É–∫—É –≤ —Ç–µ–∫—Å—Ç—ñ
  * @options TINYINT - –±—ñ—Ç–æ–≤—ñ –æ–ø—Ü—ñ—ó –ø–æ—à—É–∫—É: (2): –ø—Ä–æ–ø—É—Å–∫–∞—Ç–∏ –≤—Ö–æ–¥–∂–µ–Ω–Ω—è –ø–µ—Ä–µ–¥ '.' –∞–±–æ '].',  (4): —à—É–∫–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ —Ü—ñ–ª—ñ —Å–ª–æ–≤–∞ (–Ω–µ —á–∞—Å—Ç–∏–Ω–∏ —Å–ª—ñ–≤), (8): –ø—Ä–æ–ø—É—Å–∫–∞—Ç–∏ –≤—Ö–æ–¥–∂–µ–Ω–Ω—è –≤ quoted names ([...])

–†–µ–∫—É—Ä—Å–∏–≤–Ω–æ —à—É–∫–∞—î –≤—Å—ñ –≤—Ö–æ–¥–∂–µ–Ω–Ω—è –∑–∞–¥–∞–Ω–æ–≥–æ —Ä—è–¥–∫–∞ —É –ø–µ—Ä–µ–¥–∞–Ω–æ–º—É —Ç–µ–∫—Å—Ç—ñ.
–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î CTE –¥–ª—è –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è –≤—Å—ñ—Ö –ø–æ–∑–∏—Ü—ñ–π –≤—Ö–æ–¥–∂–µ–Ω–Ω—è –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó –∑–∞ –æ–ø—Ü—ñ—è–º–∏.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- occurrencePosition INT - –ø–æ–∑–∏—Ü—ñ—è –≤—Ö–æ–¥–∂–µ–Ω–Ω—è –≤ —Ç–µ–∫—Å—Ç—ñ (1-based)
## `stringRecureSearchStartEndPositionsExtended`

  * @string NVARCHAR(MAX) - —Ç–µ–∫—Å—Ç–æ–≤–∏–π —Ä—è–¥–æ–∫ –¥–ª—è –ø–æ—à—É–∫—É
  * @startValue NVARCHAR(32) - –ø–æ—á–∞—Ç–∫–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è –ø–æ—à—É–∫—É
  * @endValue NVARCHAR(32) - –∫—ñ–Ω—Ü–µ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è –ø–æ—à—É–∫—É
  * @replaceCRwithLF BIT = 0 - –∑–∞–º—ñ–Ω–∏—Ç–∏ CR –Ω–∞ LF (1) –∞–±–æ –∑–∞–ª–∏—à–∏—Ç–∏ —è–∫ —î (0)

–†–æ–∑—à–∏—Ä–µ–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–≥–æ –ø–æ—à—É–∫—É –ø–æ–∑–∏—Ü—ñ–π –ø–æ—á–∞—Ç–∫—É —Ç–∞ –∫—ñ–Ω—Ü—è –±–ª–æ–∫—ñ–≤ —É —Ç–µ–∫—Å—Ç–æ–≤–æ–º—É —Ä—è–¥–∫—É –∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏–º–∏ –æ–ø—Ü—ñ—è–º–∏.
–ü—ñ–¥—Ç—Ä–∏–º—É—î –æ–±—Ä–æ–±–∫—É —Å–∏–º–≤–æ–ª—ñ–≤ –ø–µ—Ä–µ–Ω–æ—Å—É —Ä—è–¥–∫—ñ–≤ –¥–ª—è –¥–æ–≤—ñ–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç—É.
## `stringSplitMultiLineComment`

  * @string NVARCHAR(MAX) - –ë–∞–≥–∞—Ç–æ—Ä—è–¥–∫–æ–≤–∏–π –∫–æ–º–µ–Ω—Ç–∞—Ä –¥–ª—è —Ä–æ–∑–±–æ—Ä—É

–†–æ–∑–±–∏—Ä–∞—î –±–∞–≥–∞—Ç–æ—Ä—è–¥–∫–æ–≤–∏–π –∫–æ–º–µ–Ω—Ç–∞—Ä —ñ –ø–æ–≤–µ—Ä—Ç–∞—î —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø–æ —Å–µ–∫—Ü—ñ—è—Ö.
–§—É–Ω–∫—Ü—ñ—è –∞–Ω–∞–ª—ñ–∑—É—î –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –∑–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–º —Ñ–æ—Ä–º–∞—Ç–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó —Ç–∞ –≤–∏–¥—ñ–ª—è—î –æ—Å–Ω–æ–≤–Ω—ñ —Å–µ–∫—Ü—ñ—ó.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- description NVARCHAR(MAX) - –í–µ—Å—å —Ä—è–¥–æ–∫ –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∞–±–æ –æ–ø–∏—Å—É
- minor NVARCHAR(128) - NULL –¥–ª—è –∑–∞–≥–∞–ª—å–Ω–æ–≥–æ –æ–ø–∏—Å—É, –ø–µ—Ä—à–µ —Å–ª–æ–≤–æ –¥–ª—è # Parameters/# Columns
- returns NVARCHAR(MAX) - NULL –¥–ª—è –ø—Ä–æ—Ü–µ–¥—É—Ä, –æ–ø–∏—Å –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –¥–ª—è —Ñ—É–Ω–∫—Ü—ñ–π
- usage NVARCHAR(MAX) - –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
### Usage

```sql
-- –†–æ–∑—ñ–±—Ä–∞—Ç–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä —Ñ—É–Ω–∫—Ü—ñ—ó
SELECT * FROM util.stringMultiLineComment(@commentString);
-- –û—Ç—Ä–∏–º–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ –æ–ø–∏—Å –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤
SELECT * FROM util.stringMultiLineComment(@commentString) WHERE minor IS NOT NULL;
```

## `stringSplitToLines`

  * @string NVARCHAR(MAX) - —Ç–µ–∫—Å—Ç–æ–≤–∏–π —Ä—è–¥–æ–∫ –¥–ª—è —Ä–æ–∑–±–∏—Ç—Ç—è –Ω–∞ —Ä—è–¥–∫–∏
  * @skipEmpty BIT = 1 - –ø—Ä–æ–ø—É—Å–∫–∞—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ —Ä—è–¥–∫–∏ (1 = —Ç–∞–∫, 0 = –≤–∫–ª—é—á–∞—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ —Ä—è–¥–∫–∏)

–†–æ–∑–±–∏–≤–∞—î —Ç–µ–∫—Å—Ç–æ–≤–∏–π —Ä—è–¥–æ–∫ –Ω–∞ –æ–∫—Ä–µ–º—ñ —Ä—è–¥–∫–∏ –∑ –Ω—É–º–µ—Ä–∞—Ü—ñ—î—é –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ–≥–æ –∞–Ω–∞–ª—ñ–∑—É.
–§—É–Ω–∫—Ü—ñ—è –æ–±—Ä–æ–±–ª—è—î –±—É–¥—å-—è–∫–∏–π —Ç–µ–∫—Å—Ç, –∑–∞–º—ñ–Ω—é—î —Ç–∞–±—É–ª—è—Ü—ñ—ó –Ω–∞ –ø—Ä–æ–±—ñ–ª–∏ —Ç–∞ –º–æ–∂–µ –ø—Ä–æ–ø—É—Å–∫–∞—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ —Ä—è–¥–∫–∏.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- line NVARCHAR(MAX) - —Ç–µ–∫—Å—Ç —Ä—è–¥–∫–∞ (–∑ –æ–±—Ä—ñ–∑–∞–Ω–∏–º–∏ –ø—Ä–æ–±—ñ–ª–∞–º–∏ —Ç–∞ –∑–∞–º—ñ–Ω–µ–Ω–∏–º–∏ —Ç–∞–±—É–ª—è—Ü—ñ—è–º–∏)
- lineNumber INT - –Ω–æ–º–µ—Ä —Ä—è–¥–∫–∞ (–ø–æ—Ä—è–¥–∫–æ–≤–∏–π –Ω–æ–º–µ—Ä)
## `tablesGetIndexedColumns`

  * @object NVARCHAR(128) = NULL - –Ω–∞–∑–≤–∞ —Ç–∞–±–ª–∏—Ü—ñ –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É —ñ–Ω–¥–µ–∫—Å–æ–≤–∞–Ω–∏—Ö –∫–æ–ª–æ–Ω–æ–∫ (NULL = —É—Å—ñ —Ç–∞–±–ª–∏—Ü—ñ)

–ü–æ–≤–µ—Ä—Ç–∞—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —ñ–Ω–¥–µ–∫—Å–æ–≤–∞–Ω—ñ –∫–æ–ª–æ–Ω–∫–∏ —Ç–∞–±–ª–∏—Ü—å, –ø–æ–∫–∞–∑—É—é—á–∏ —è–∫—ñ –∫–æ–ª–æ–Ω–∫–∏ —î –ø–µ—Ä—à–∏–º–∏ –≤ —ñ–Ω–¥–µ–∫—Å–∞—Ö.
–§—É–Ω–∫—Ü—ñ—è –∞–Ω–∞–ª—ñ–∑—É—î –≤—Å—ñ —ñ–Ω–¥–µ–∫—Å–∏ —Ç–∞ –ø–æ–∫–∞–∑—É—î –∫–æ–ª–æ–Ω–∫–∏, —è–∫—ñ —î –ø–µ—Ä—à–∏–º–∏ (key_ordinal = 1) –≤ –∫–æ–∂–Ω–æ–º—É —ñ–Ω–¥–µ–∫—Å—ñ.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- SchemaName NVARCHAR(128) - –Ω–∞–∑–≤–∞ —Å—Ö–µ–º–∏
- TableName NVARCHAR(128) - –Ω–∞–∑–≤–∞ —Ç–∞–±–ª–∏—Ü—ñ
- ColumnName NVARCHAR(128) - –Ω–∞–∑–≤–∞ –∫–æ–ª–æ–Ω–∫–∏
- IndexName NVARCHAR(128) - –Ω–∞–∑–≤–∞ —ñ–Ω–¥–µ–∫—Å—É
- IndexType NVARCHAR(60) - —Ç–∏–ø —ñ–Ω–¥–µ–∫—Å—É
- IsUnique BIT - —á–∏ —î —ñ–Ω–¥–µ–∫—Å —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º
- IsPrimaryKey BIT - —á–∏ —î —ñ–Ω–¥–µ–∫—Å –ø–µ—Ä–≤–∏–Ω–Ω–∏–º –∫–ª—é—á–µ–º
- IsUniqueConstraint BIT - —á–∏ —î —ñ–Ω–¥–µ–∫—Å —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º –æ–±–º–µ–∂–µ–Ω–Ω—è–º
- KeyOrdinal TINYINT - –ø–æ–∑–∏—Ü—ñ—è –∫–æ–ª–æ–Ω–∫–∏ –≤ –∫–ª—é—á—ñ —ñ–Ω–¥–µ–∫—Å—É
- PartitionOrdinal TINYINT - –ø–æ–∑–∏—Ü—ñ—è –∫–æ–ª–æ–Ω–∫–∏ –≤ —Å—Ö–µ–º—ñ –ø–∞—Ä—Ç–∏—Ü—ñ–æ–Ω—É–≤–∞–Ω–Ω—è
- IsIncludedColumn BIT - —á–∏ —î –∫–æ–ª–æ–Ω–∫–∞ –≤–∫–ª—é—á–µ–Ω–æ—é (INCLUDE)
### Usage

```sql
-- –ü–æ–∫–∞–∑–∞—Ç–∏ –≤—Å—ñ —ñ–Ω–¥–µ–∫—Å–æ–≤–∞–Ω—ñ –∫–æ–ª–æ–Ω–∫–∏ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö
SELECT * FROM util.tablesGetIndexedColumns(NULL)
ORDER BY SchemaName, TableName, ColumnName;
-- –ü–æ–∫–∞–∑–∞—Ç–∏ —ñ–Ω–¥–µ–∫—Å–æ–≤–∞–Ω—ñ –∫–æ–ª–æ–Ω–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó —Ç–∞–±–ª–∏—Ü—ñ
SELECT * FROM util.tablesGetIndexedColumns('MyTable')
ORDER BY ColumnName;
-- –ó–Ω–∞–π—Ç–∏ –∫–æ–ª–æ–Ω–∫–∏, —è–∫—ñ —î –ø–µ—Ä—à–∏–º–∏ –≤ —ñ–Ω–¥–µ–∫—Å–∞—Ö
SELECT DISTINCT SchemaName, TableName, ColumnName
FROM util.tablesGetIndexedColumns(NULL)
WHERE KeyOrdinal = 1
ORDER BY SchemaName, TableName, ColumnName;
-- –ê–Ω–∞–ª—ñ–∑ –ø–æ–∫—Ä–∏—Ç—Ç—è –∫–æ–ª–æ–Ω–æ–∫ —ñ–Ω–¥–µ–∫—Å–∞–º–∏
SELECT SchemaName, TableName, ColumnName, COUNT(*) AS IndexCount
FROM util.tablesGetIndexedColumns('MyTable')
GROUP BY SchemaName, TableName, ColumnName
ORDER BY IndexCount DESC;
```

## `tablesGetScript`

  * @table NVARCHAR(128) = NULL - –Ω–∞–∑–≤–∞ —Ç–∞–±–ª–∏—Ü—ñ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Å–∫—Ä–∏–ø—Ç–∞ (NULL = —É—Å—ñ —Ç–∞–±–ª–∏—Ü—ñ)

–ì–µ–Ω–µ—Ä—É—î –ø–æ–≤–Ω–∏–π DDL —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—ñ, –≤–∫–ª—é—á–∞—é—á–∏ –∫–æ–ª–æ–Ω–∫–∏, —Ç–∏–ø–∏ –¥–∞–Ω–∏—Ö, –æ–±–º–µ–∂–µ–Ω–Ω—è —Ç–∞ —ñ–Ω–¥–µ–∫—Å–∏.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- SchemaName NVARCHAR(128) - –Ω–∞–∑–≤–∞ —Å—Ö–µ–º–∏
- TableName NVARCHAR(128) - –Ω–∞–∑–≤–∞ —Ç–∞–±–ª–∏—Ü—ñ
- CreateScript NVARCHAR(MAX) - –ø–æ–≤–Ω–∏–π DDL —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—ñ
### Usage

```sql
-- –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó —Ç–∞–±–ª–∏—Ü—ñ
SELECT * FROM util.tablesGetScript('myTable');
-- –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —Å–∫—Ä–∏–ø—Ç–∏ –¥–ª—è –≤—Å—ñ—Ö —Ç–∞–±–ª–∏—Ü—å
SELECT * FROM util.tablesGetScript(NULL);
```

## `xeGetErrors`

  * @minEventTime DATETIME2(7) - –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π —á–∞—Å –ø–æ–¥—ñ—ó –¥–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó (NULL = –≤—Å—ñ –ø–æ–¥—ñ—ó)

–¢–∞–±–ª–∏—á–Ω–æ-–∑–Ω–∞—á—É—â–∞ —Ñ—É–Ω–∫—Ü—ñ—è –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏ –∑ Extended Events.
–ß–∏—Ç–∞—î –¥–∞–Ω—ñ –∑ —Å–∏—Å—Ç–µ–º–Ω–∏—Ö —Å–µ—Å—ñ–π XE —Ç–∞ –ø–æ–≤–µ—Ä—Ç–∞—î —ó—Ö —É —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–æ–º—É –≤–∏–≥–ª—è–¥—ñ –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É.
### Returns
TABLE - –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- EventTime DATETIME2(7) - —á–∞—Å –ø–æ–¥—ñ—ó
- ErrorNumber INT - –Ω–æ–º–µ—Ä –ø–æ–º–∏–ª–∫–∏
- Severity INT - —Ä—ñ–≤–µ–Ω—å —Å–µ—Ä–π–æ–∑–Ω–æ—Å—Ç—ñ
- State INT - —Å—Ç–∞–Ω –ø–æ–º–∏–ª–∫–∏
- Message NVARCHAR(4000) - —Ç–µ–∫—Å—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫—É
- DatabaseName NVARCHAR(128) - –Ω–∞–∑–≤–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- ClientHostname NVARCHAR(128) - —ñ–º'—è —Ö–æ—Å—Ç–∞ –∫–ª—ñ—î–Ω—Ç–∞
- ClientAppName NVARCHAR(128) - –Ω–∞–∑–≤–∞ –¥–æ–¥–∞—Ç–∫—É –∫–ª—ñ—î–Ω—Ç–∞
- ServerPrincipalName NVARCHAR(128) - —ñ–º'—è –ø—Ä–∏–Ω—Ü–∏–ø–∞–ª–∞ —Å–µ—Ä–≤–µ—Ä–∞
- SqlText NVARCHAR(MAX) - SQL —Ç–µ–∫—Å—Ç
- TsqlFrame NVARCHAR(MAX) - T-SQL —Ñ—Ä–µ–π–º
- TsqlStack NVARCHAR(MAX) - T-SQL —Å—Ç–µ–∫
- FileName NVARCHAR(260) - —ñ–º'—è —Ñ–∞–π–ª—É XE
- FileOffset BIGINT - –∑–º—ñ—â–µ–Ω–Ω—è —É —Ñ–∞–π–ª—ñ
## `xeGetLogsPath`

  * @sessionName NVARCHAR(128) = NULL - –Ω–∞–∑–≤–∞ XE —Å–µ—Å—ñ—ó (—á–∞—Å—Ç–∏–Ω–∞ 'utils' –±—É–¥–µ –≤–∏–¥–∞–ª–µ–Ω–∞ –∑ –Ω–∞–∑–≤–∏)

–§–æ—Ä–º—É—î —à–ª—è—Ö –¥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó –ª–æ–≥—ñ–≤ Extended Events –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ä–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è SQL Server error log.
–§—É–Ω–∫—Ü—ñ—è —Å—Ç–≤–æ—Ä—é—î —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–æ–≤–∞–Ω–∏–π —à–ª—è—Ö –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ XE —Å–µ—Å—ñ–π —É –ø—ñ–¥–ø–∞–ø—Ü—ñ util.
### Returns
NVARCHAR(260) - –ø–æ–≤–Ω–∏–π —à–ª—è—Ö –¥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó –ª–æ–≥—ñ–≤ –¥–ª—è –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—ó —Å–µ—Å—ñ—ó
### Usage

```sql
-- –û—Ç—Ä–∏–º–∞—Ç–∏ –±–∞–∑–æ–≤–∏–π —à–ª—è—Ö –¥–æ –ª–æ–≥—ñ–≤
SELECT util.xeGetLogsPath(NULL);
-- –û—Ç—Ä–∏–º–∞—Ç–∏ —à–ª—è—Ö –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó —Å–µ—Å—ñ—ó
SELECT util.xeGetLogsPath('utilsErrors');
-- –†–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ –Ω–∞–ø—Ä–∏–∫–ª–∞–¥: C:\Program Files\Microsoft SQL Server\MSSQL15.MSSQLSERVER\MSSQL\Log\util\Errors```
 