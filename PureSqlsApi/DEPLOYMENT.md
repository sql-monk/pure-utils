# PureSqlsApi - –ß–µ–∫–ª–∏—Å—Ç —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è

## üìã –ü–µ—Ä–µ–¥ –ø–µ—Ä—à–∏–º –∑–∞–ø—É—Å–∫–æ–º

### 1. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

- [ ] .NET 8 SDK –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ (`dotnet --version`)
- [ ] SQL Server –¥–æ—Å—Ç—É–ø–Ω–∏–π —ñ –∑–∞–ø—É—â–µ–Ω–∏–π
- [ ] –Ñ –¥–æ—Å—Ç—É–ø –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (Windows auth –∞–±–æ SQL auth)
- [ ] TCP/IP –ø—Ä–æ—Ç–æ–∫–æ–ª —É–≤—ñ–º–∫–Ω–µ–Ω–æ –≤ SQL Server Configuration Manager
- [ ] Firewall –Ω–µ –±–ª–æ–∫—É—î –ø–æ—Ä—Ç SQL Server (1433)

### 2. –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

- [ ] –°—Ç–≤–æ—Ä–µ–Ω–æ –±–∞–∑—É –¥–∞–Ω–∏—Ö (–∞–±–æ –±—É–¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∞ —ñ—Å–Ω—É—é—á–∞)
- [ ] –í–∏–∫–æ–Ω–∞–Ω–æ —Å–∫—Ä–∏–ø—Ç —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å—Ö–µ–º–∏ api:
  ```sql
  USE [YourDatabase];
  GO
  :r api/Security/api.sql
  GO
  ```
- [ ] –°—Ç–≤–æ—Ä–µ–Ω–æ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ SQL –æ–±'—î–∫—Ç–∏ (—Ñ—É–Ω–∫—Ü—ñ—ó/–ø—Ä–æ—Ü–µ–¥—É—Ä–∏)
- [ ] –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–∞—î –ø—Ä–∞–≤–∞ –Ω–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤ –≤ —Å—Ö–µ–º—ñ api

### 3. –ö–æ–º–ø—ñ–ª—è—Ü—ñ—è –ø—Ä–æ–µ–∫—Ç—É

- [ ] –í–∏–∫–æ–Ω–∞–Ω–æ `dotnet restore` –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó PureSqlsApi
- [ ] –í–∏–∫–æ–Ω–∞–Ω–æ `dotnet build` –±–µ–∑ –ø–æ–º–∏–ª–æ–∫
- [ ] (–û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ) –í–∏–∫–æ–Ω–∞–Ω–æ `.\build.ps1` –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è standalone executable

## üöÄ –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤—ñ—Å—É

### –í–∞—Ä—ñ–∞–Ω—Ç 1: Development (dotnet run)

```bash
cd PureSqlsApi
dotnet run -- --server localhost --database YourDB --port 5000
```

### –í–∞—Ä—ñ–∞–Ω—Ç 2: Standalone executable (–ø—ñ—Å–ª—è build.ps1)

```bash
.\PureSqlsApi\bin\Release\net8.0\win-x64\publish\PureSqlsApi.exe --server localhost --database YourDB --port 5000
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–∞–ø—É—Å–∫—É

- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å `--server` –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å `--database` –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
- [ ] –í–∏–±—Ä–∞–Ω–æ –≤—ñ–ª—å–Ω–∏–π `--port` (default: 51433)
- [ ] –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ SQL auth - –≤–∫–∞–∑–∞–Ω–æ `--user` (–±—É–¥–µ –∑–∞–ø–∏—Ç–∞–Ω–æ –ø–∞—Ä–æ–ª—å)

## ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∏

### 1. –ë–∞–∑–æ–≤–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞

- [ ] –°–µ—Ä–≤—ñ—Å —Å—Ç–∞—Ä—Ç—É–≤–∞–≤ –±–µ–∑ –ø–æ–º–∏–ª–æ–∫
- [ ] –£ –∫–æ–Ω—Å–æ–ª—ñ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è:
  ```
  ‚úì –ü—ñ–¥–∫–ª—é—á–µ–Ω–æ –¥–æ SQL Server: <server>, –±–∞–∑–∞ –¥–∞–Ω–∏—Ö: <database>
  ‚úì PureSqlsApi –∑–∞–ø—É—â–µ–Ω–æ –Ω–∞ http://localhost:<port>
  ```

### 2. –¢–µ—Å—Ç–æ–≤—ñ –∑–∞–ø–∏—Ç–∏

- [ ] –°—Ç–≤–æ—Ä–µ–Ω–æ —Ç–µ—Å—Ç–æ–≤—ñ SQL –æ–±'—î–∫—Ç–∏ (–ø—Ä–∏–∫–ª–∞–¥–∏ –∑ api/ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó):
  ```sql
  :r api/Functions/exampleList.sql
  :r api/Functions/exampleGet.sql
  :r api/Procedures/ExampleCreate.sql
  ```

- [ ] –í–∏–∫–æ–Ω–∞–Ω–æ —Ç–µ—Å—Ç–æ–≤—ñ HTTP –∑–∞–ø–∏—Ç–∏:
  ```bash
  # List endpoint
  curl http://localhost:5000/example/list
  
  # Get endpoint
  curl "http://localhost:5000/example/get?id=2"
  
  # Exec endpoint
  curl "http://localhost:5000/exec/ExampleCreate?name=Test&value=100"
  ```

- [ ] –í—Å—ñ –∑–∞–ø–∏—Ç–∏ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å –≤–∞–ª—ñ–¥–Ω–∏–π JSON
- [ ] HTTP —Å—Ç–∞—Ç—É—Å 200 –¥–ª—è —É—Å–ø—ñ—à–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤
- [ ] HTTP —Å—Ç–∞—Ç—É—Å 500 –¥–ª—è –ø–æ–º–∏–ª–æ–∫ SQL (–∑ JSON –æ–ø–∏—Å–æ–º –ø–æ–º–∏–ª–∫–∏)

## üìä –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–ª–∞—Å–Ω–∏—Ö endpoints

### –î–ª—è List endpoint (—Å–ø–∏—Å–æ–∫ –æ–±'—î–∫—Ç—ñ–≤)

- [ ] –°—Ç–≤–æ—Ä–µ–Ω–æ —Ç–∞–±–ª–∏—á–Ω—É —Ñ—É–Ω–∫—Ü—ñ—é `api.{resourceName}List`
- [ ] –§—É–Ω–∫—Ü—ñ—è –ø–æ–≤–µ—Ä—Ç–∞—î —Ç–∞–±–ª–∏—Ü—é –∑ –∫–æ–ª–æ–Ω–∫–æ—é `jsondata` —Ç–∏–ø—É NVARCHAR(MAX)
- [ ] –ö–æ–∂–µ–Ω —Ä—è–¥–æ–∫ jsondata –º—ñ—Å—Ç–∏—Ç—å –≤–∞–ª—ñ–¥–Ω–∏–π JSON
- [ ] –§—É–Ω–∫—Ü—ñ—è –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–∞ –ø—Ä—è–º–æ –≤ SQL:
  ```sql
  SELECT * FROM api.{resourceName}List(–ø–∞—Ä–∞–º–µ—Ç—Ä–∏);
  ```
- [ ] HTTP endpoint –ø—Ä–∞—Ü—é—î: `GET /{resourceName}/list`

### –î–ª—è Get endpoint (–æ–¥–∏–Ω –æ–±'—î–∫—Ç)

- [ ] –°—Ç–≤–æ—Ä–µ–Ω–æ —Å–∫–∞–ª—è—Ä–Ω—É —Ñ—É–Ω–∫—Ü—ñ—é `api.{resourceName}Get`
- [ ] –§—É–Ω–∫—Ü—ñ—è –ø–æ–≤–µ—Ä—Ç–∞—î NVARCHAR(MAX) –∑ JSON
- [ ] –§—É–Ω–∫—Ü—ñ—è –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–∞ –ø—Ä—è–º–æ –≤ SQL:
  ```sql
  SELECT api.{resourceName}Get(–ø–∞—Ä–∞–º–µ—Ç—Ä–∏);
  ```
- [ ] HTTP endpoint –ø—Ä–∞—Ü—é—î: `GET /{resourceName}/get`

### –î–ª—è Exec endpoint (–≤–∏–∫–æ–Ω–∞–Ω–Ω—è –æ–ø–µ—Ä–∞—Ü—ñ—ó)

- [ ] –°—Ç–≤–æ—Ä–µ–Ω–æ –ø—Ä–æ—Ü–µ–¥—É—Ä—É `api.{procedureName}`
- [ ] –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –º–∞—î OUTPUT –ø–∞—Ä–∞–º–µ—Ç—Ä `@response NVARCHAR(MAX)`
- [ ] –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –ø–æ–≤–µ—Ä—Ç–∞—î JSON —á–µ—Ä–µ–∑ @response
- [ ] –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–∞ –ø—Ä—è–º–æ –≤ SQL:
  ```sql
  DECLARE @result NVARCHAR(MAX);
  EXEC api.{procedureName} @param1 = 'value', @response = @result OUTPUT;
  SELECT @result;
  ```
- [ ] HTTP endpoint –ø—Ä–∞—Ü—é—î: `GET /exec/{procedureName}`

## üîí –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ –ø—Ä–æ–¥–∞–∫—à–Ω

### –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

- [ ] –°–µ—Ä–≤—ñ—Å –∑–∞–ø—É—â–µ–Ω–æ —Ç—ñ–ª—å–∫–∏ –Ω–∞ localhost
- [ ] –ü–æ—Ä—Ç –Ω–µ –≤—ñ–¥–∫—Ä–∏—Ç–∏–π –≤ firewall –¥–ª—è –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö –ø—ñ–¥–∫–ª—é—á–µ–Ω—å
- [ ] –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –æ–±–º–µ–∂–µ–Ω–∏–π SQL –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á (—Ç—ñ–ª—å–∫–∏ –ø—Ä–∞–≤–∞ –Ω–∞ api —Å—Ö–µ–º—É)

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó)

- [ ] –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ reverse proxy (nginx/IIS) –∑ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—î—é
- [ ] –î–æ–¥–∞–Ω–æ HTTPS —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç
- [ ] –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ rate limiting
- [ ] –û–±–º–µ–∂–µ–Ω–æ –¥–æ—Å—Ç—É–ø –∑–∞ IP –∞–¥—Ä–µ—Å–∞–º–∏
- [ ] –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –ª–æ–≥—É–≤–∞–Ω–Ω—è (Serilog –∞–±–æ –∞–Ω–∞–ª–æ–≥)
- [ ] –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ (health checks)
- [ ] SQL –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–∞—î –º—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –ø—Ä–∞–≤–∞
- [ ] –î–æ–¥–∞–Ω–æ CORS —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω –¥–æ—Å—Ç—É–ø –∑ –±—Ä–∞—É–∑–µ—Ä–∞

## üêõ –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ –≤–¥–∞—î—Ç—å—Å—è –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ SQL Server

- [ ] SQL Server –∑–∞–ø—É—â–µ–Ω–æ (—Å–ª—É–∂–±—É –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ)
- [ ] TCP/IP –ø—Ä–æ—Ç–æ–∫–æ–ª —É–≤—ñ–º–∫–Ω–µ–Ω–æ
- [ ] Firewall –Ω–µ –±–ª–æ–∫—É—î –ø–æ—Ä—Ç
- [ ] Connection string –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π
- [ ] –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á/–ø–∞—Ä–æ–ª—å –ø—Ä–∞–≤–∏–ª—å–Ω—ñ
- [ ] –°–ø—Ä–æ–±—É–≤–∞—Ç–∏ –∑ SQL Server Management Studio –∑ —Ç–∏–º–∏ –∂ credentials

### –ü—Ä–æ–±–ª–µ–º–∞: HTTP 500 - Invalid object name 'api.xxxList'

- [ ] –°—Ö–µ–º–∞ api —Å—Ç–≤–æ—Ä–µ–Ω–∞ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö
- [ ] SQL –æ–±'—î–∫—Ç —ñ—Å–Ω—É—î —ñ –º–∞—î –ø—Ä–∞–≤–∏–ª—å–Ω–µ —ñ–º'—è
- [ ] –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–∞—î –ø—Ä–∞–≤–∞ –Ω–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –æ–±'—î–∫—Ç–∞
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ —á–µ—Ä–µ–∑ SSMS:
  ```sql
  SELECT * FROM sys.objects 
  WHERE schema_id = SCHEMA_ID('api') AND name = 'xxxList';
  ```

### –ü—Ä–æ–±–ª–µ–º–∞: HTTP 500 - Conversion failed

- [ ] –¢–∏–ø–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ —É HTTP –∑–∞–ø–∏—Ç—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å SQL —Ç–∏–ø–∞–º
- [ ] –î–æ–¥–∞–Ω–æ –æ–±—Ä–æ–±–∫—É –ø–æ–º–∏–ª–æ–∫ –≤ SQL –æ–±'—î–∫—Ç—ñ
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ SQL –æ–±'—î–∫—Ç –∑ —Ç–∏–º–∏ –∂ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –≤ SSMS

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—É—Å—Ç–∏–π JSON –∞–±–æ {}

- [ ] SQL —Ñ—É–Ω–∫—Ü—ñ—è/–ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –ø–æ–≤–µ—Ä—Ç–∞—î –≤–∞–ª—ñ–¥–Ω–∏–π JSON
- [ ] FOR JSON PATH –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –ù–µ–º–∞—î NULL –∑–Ω–∞—á–µ–Ω—å —è–∫—ñ –Ω–µ –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ SQL –≤ SSMS –Ω–∞–ø—Ä—è–º—É

## üìö –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏

- [README.md](README.md) - –ü–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
- [TESTING.md](TESTING.md) - –î–µ—Ç–∞–ª—å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- [QUICKSTART.md](QUICKSTART.md) - –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç –∑ —à–∞–±–ª–æ–Ω–∞–º–∏
- [api/README.md](../api/README.md) - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è SQL —Å—Ç—Ä—É–∫—Ç—É—Ä–∏

## üéØ –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –Ω–∞–±—ñ—Ä –¥–ª—è –ø–æ—á–∞—Ç–∫—É —Ä–æ–±–æ—Ç–∏:

- [x] .NET 8 SDK –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
- [x] SQL Server –¥–æ—Å—Ç—É–ø–Ω–∏–π
- [x] –ü—Ä–æ–µ–∫—Ç —Å–∫–æ–º–ø—ñ–ª—å–æ–≤–∞–Ω–æ
- [x] –°—Ö–µ–º–∞ api —Å—Ç–≤–æ—Ä–µ–Ω–∞
- [x] –•–æ—á–∞ –± –æ–¥–∏–Ω —Ç–µ—Å—Ç–æ–≤–∏–π endpoint –ø—Ä–∞—Ü—é—î
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø—Ä–æ—á–∏—Ç–∞–Ω–∞

### –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π –Ω–∞–±—ñ—Ä:

- [x] –í—Å—ñ –ø—É–Ω–∫—Ç–∏ –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–æ–≥–æ –Ω–∞–±–æ—Ä—É
- [ ] –°—Ç–≤–æ—Ä–µ–Ω–æ –≤–ª–∞—Å–Ω—ñ SQL endpoints –¥–ª—è –≤–∞—à–æ—ó –ø—Ä–µ–¥–º–µ—Ç–Ω–æ—ó –æ–±–ª–∞—Å—Ç—ñ
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–æ –∑ d3.js –∞–±–æ —ñ–Ω—à–∏–º —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º
- [ ] –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –ª–æ–≥—É–≤–∞–Ω–Ω—è
- [ ] –î–æ–¥–∞–Ω–æ –æ–±—Ä–æ–±–∫—É –ø–æ–º–∏–ª–æ–∫ –≤ SQL –æ–±'—î–∫—Ç–∏
- [ ] –°—Ç–≤–æ—Ä–µ–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é –¥–ª—è –≤–∞—à–æ—ó –∫–æ–º–∞–Ω–¥–∏

---

**–í–µ—Ä—Å—ñ—è:** 1.0  
**–î–∞—Ç–∞:** 2024-10-21  
**–ê–≤—Ç–æ—Ä:** PureSqlsApi Team
