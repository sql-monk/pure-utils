{
    "sourceFile": "util/Procedures/metadataSetParameterDescription.sql",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1758022128840,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1758024321038,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,23 @@\n+/*\r\n+# Description\r\n+Встановлює опис для параметра процедури або функції через розширені властивості MS_Description.\r\n+\r\n+# Parameters\r\n+@major NVARCHAR(128) - назва процедури або функції\r\n+@parameter NVARCHAR(128) - назва параметра\r\n+@description NVARCHAR(MAX) - текст опису для параметра\r\n+\r\n+# Returns\r\n+Нічого не повертає. Встановлює розширену властивість MS_Description для параметра\r\n+\r\n+# Usage\r\n+-- Встановити опис для параметра процедури\r\n+EXEC util.metadataSetParameterDescription @major = 'dbo.myProcedure', @parameter = '@inputParam', @description = 'Вхідний параметр для фільтрації';\r\n+\r\n+-- Встановити опис для параметра функції\r\n+EXEC util.metadataSetParameterDescription @major = 'dbo.myFunction', @parameter = '@searchValue', @description = 'Значення для пошуку в таблиці';\r\n+*/\r\n CREATE PROCEDURE [util].[metadataSetParameterDescription]\r\n \t@major NVARCHAR(128),\r\n \t@parameter NVARCHAR(128),\r\n \t@description NVARCHAR(MAX)\r\n"
                }
            ],
            "date": 1758022128840,
            "name": "Commit-0",
            "content": "CREATE PROCEDURE [util].[metadataSetParameterDescription]\r\n\t@major NVARCHAR(128),\r\n\t@parameter NVARCHAR(128),\r\n\t@description NVARCHAR(MAX)\r\nAS\r\nBEGIN\r\n\tDECLARE @schema_name NVARCHAR(128);\r\n\tDECLARE @object_name NVARCHAR(128);\r\n\tDECLARE @object_type NVARCHAR(128);\r\n\t\r\n\tSELECT \r\n\t\t@schema_name = SCHEMA_NAME(o.schema_id), \r\n\t\t@object_name = o.name,\r\n\t\t@object_type = CASE o.type\r\n\t\t\tWHEN 'P' THEN 'PROCEDURE'\r\n\t\t\tWHEN 'FN' THEN 'FUNCTION'\r\n\t\t\tWHEN 'IF' THEN 'FUNCTION'\r\n\t\t\tWHEN 'TF' THEN 'FUNCTION'\r\n\t\t\tELSE 'PROCEDURE'\r\n\t\tEND\r\n\tFROM sys.objects o (NOLOCK)\r\n\tWHERE o.object_id = OBJECT_ID(@major);\r\n\r\n\tEXEC util.metadataSetExtendedProperty \r\n\t\t@name = 'MS_Description',\r\n\t\t@value = @description,\r\n\t\t@level0type = 'SCHEMA',\r\n\t\t@level0name = @schema_name,\r\n\t\t@level1type = @object_type,\r\n\t\t@level1name = @object_name,\r\n\t\t@level2type = 'PARAMETER',\r\n\t\t@level2name = @parameter;\r\nEND;\r\nGO"
        }
    ]
}