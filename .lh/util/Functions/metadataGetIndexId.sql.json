{
    "sourceFile": "util/Functions/metadataGetIndexId.sql",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1757966351373,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1757966357637,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,5 @@\n-USE model;\r\n-GO\r\n-CREATE OR ALTER FUNCTION util.metadataGetIndexId(@major NVARCHAR(128), @minor NVARCHAR(128))\r\n+CREATE FUNCTION util.metadataGetIndexId(@major NVARCHAR(128), @minor NVARCHAR(128))\r\n RETURNS INT\r\n AS\r\n BEGIN\r\n \tRETURN (SELECT ix.index_id FROM sys.indexes ix(NOLOCK)WHERE ix.object_id = ISNULL(TRY_CONVERT(INT, @major), OBJECT_ID(@major)) AND ix.name = @minor);\r\n"
                },
                {
                    "date": 1758024321014,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,26 @@\n-CREATE FUNCTION util.metadataGetIndexId(@major NVARCHAR(128), @minor NVARCHAR(128))\r\n+/*\r\n+# Description\r\n+Отримує ідентифікатор індексу за назвою табліці та назвою індексу.\r\n+\r\n+# Parameters\r\n+@object NVARCHAR(128) - назва таблиці або object_id\r\n+@indexName NVARCHAR(128) - назва індексу\r\n+\r\n+# Returns\r\n+INT - ідентифікатор індексу або NULL якщо не знайдено\r\n+\r\n+# Usage\r\n+-- Отримати ID індексу за назвами\r\n+SELECT util.metadataGetIndexId('myTable', 'IX_myTable_Column1');\r\n+\r\n+-- Використовуючи object_id таблиці\r\n+SELECT util.metadataGetIndexId('1234567890', 'IX_myTable_Column1');\r\n+*/\r\n+CREATE FUNCTION util.metadataGetIndexId(@object NVARCHAR(128), @indexName NVARCHAR(128))\r\n RETURNS INT\r\n AS\r\n BEGIN\r\n-\tRETURN (SELECT ix.index_id FROM sys.indexes ix(NOLOCK)WHERE ix.object_id = ISNULL(TRY_CONVERT(INT, @major), OBJECT_ID(@major)) AND ix.name = @minor);\r\n+\tRETURN (SELECT ix.index_id FROM sys.indexes ix(NOLOCK)WHERE ix.object_id = ISNULL(TRY_CONVERT(INT, @object), OBJECT_ID(@object)) AND ix.name = @indexName);\r\n END;\r\n GO\r\n \r\n"
                }
            ],
            "date": 1757966351373,
            "name": "Commit-0",
            "content": "USE model;\r\nGO\r\nCREATE OR ALTER FUNCTION util.metadataGetIndexId(@major NVARCHAR(128), @minor NVARCHAR(128))\r\nRETURNS INT\r\nAS\r\nBEGIN\r\n\tRETURN (SELECT ix.index_id FROM sys.indexes ix(NOLOCK)WHERE ix.object_id = ISNULL(TRY_CONVERT(INT, @major), OBJECT_ID(@major)) AND ix.name = @minor);\r\nEND;\r\nGO\r\n\r\n"
        }
    ]
}