{
    "sourceFile": "util/Functions/indexesGetScriptConventionRename.sql",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1758022338802,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1758024321034,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,24 @@\n+/*\r\n+# Description\r\n+Генерує скрипти для перейменування індексів відповідно до стандартних конвенцій найменування.\r\n+Функція створює EXEC sp_rename команди для зміни назв індексів на рекомендовані.\r\n+\r\n+# Parameters\r\n+@table NVARCHAR(128) = NULL - Назва таблиці для генерації скриптів перейменування (NULL = усі таблиці)\r\n+@index NVARCHAR(128) = NULL - Назва конкретного індексу (NULL = усі індекси)\r\n+\r\n+# Returns\r\n+TABLE - Повертає таблицю з колонками:\r\n+- RenameScript NVARCHAR(MAX) - SQL скрипт для перейменування індексу\r\n+\r\n+# Usage\r\n+-- Згенерувати скрипти перейменування для всіх індексів таблиці\r\n+SELECT * FROM util.indexesGetScriptConventionRename('myTable', NULL);\r\n+\r\n+-- Згенерувати скрипт перейменування для конкретного індексу\r\n+SELECT * FROM util.indexesGetScriptConventionRename('myTable', 'myIndex');\r\n+*/\r\n CREATE FUNCTION util.indexesGetScriptConventionRename(@table NVARCHAR(128) = NULL, @index NVARCHAR(128) = NULL)\r\n RETURNS TABLE\r\n AS\r\n RETURN(\r\n"
                }
            ],
            "date": 1758022338802,
            "name": "Commit-0",
            "content": "CREATE FUNCTION util.indexesGetScriptConventionRename(@table NVARCHAR(128) = NULL, @index NVARCHAR(128) = NULL)\r\nRETURNS TABLE\r\nAS\r\nRETURN(\r\n    SELECT\r\n        CONCAT(\r\n            'EXEC sp_rename N''',\r\n            icn.currentName,\r\n            ''', N''',\r\n            icn.newName,\r\n            ''', N''INDEX'';'\r\n        ) AS statement\r\n    FROM util.indexesGetConventionNames(@table, @index) icn\r\n    WHERE icn.currentName <> icn.newName -- Only return indexes that need renaming\r\n);"
        }
    ]
}